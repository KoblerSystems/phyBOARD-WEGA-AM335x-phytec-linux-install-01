<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css">
pre.code 
{ padding: 1em; border: 1px solid rgb(47, 111, 171); color: black; background-color: rgb(240, 240, 240); line-height: 1.1em; }
pre.screen 
{ padding: 1em; border: 1px dashed rgb(47, 111, 171); color: black; background-color: rgb(249, 249, 249); line-height: 1.1em; }
code.code 
{  color: blue;   font-weight: bold;   font-family: monospace;}
code.file 
{  color: darkgreen;   font-weight: bold;   font-family: monospace;}
body 
{  bgcolor: white; text: black; link: #0000FF; vlink: #840084; alink: #0000FF;}
</style>
<title>Log of pcm051-wega Thu Nov 13 12:34:40 2014</title>
</head>

<body>
<div>
<h1 class="title"> Log of pcm051-wega Thu Nov 13 12:34:40 2014</h1>
<div>
<h2 class="title">1.  Install Tutorial Software Manually</h2>

<p>These are user specific commands. This is how it has been done for testing. You have to enter your own commands, as described in the tutorial. </p>
<p>Create links for testPublic2. </p>
<pre class="code">
make create_test_links --makefile /mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x/pd_src.mk -C /mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x/</pre>

<pre class="screen">
: Entering directory `/mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x'
make: Leaving directory `/mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x'</pre>

<p>Install scripts and docs </p>
<pre class="code">
make install_scripts --makefile /mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x/pd_src.mk -C /mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x/</pre>

<pre class="screen">
: Entering directory `/mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x'
mkdir -p $(dirname /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/bundles/phyBOARD-WEGA-AM335x-phytec-linux-install.bundle)  &amp;&amp; \
cp /mnt/d02/home/jan/Develop/pcm051-wega/distrib/20140923-1/bundles/phyBOARD-WEGA-AM335x-phytec-linux-install.bundle /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/bundles/phyBOARD-WEGA-AM335x-phytec-linux-install.bundle; 
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install&amp;&amp; \
git clone --branch phyBOARD-WEGA-13.0.0-01 /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/bundles/phyBOARD-WEGA-AM335x-phytec-linux-install.bundle /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install
Cloning into '/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install'...
make: Leaving directory `/mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x'</pre>

<p>Install user specific script </p>
<pre class="code">
make install_scripts_user --makefile /mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x/pd_src.mk -C /mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x/</pre>

<pre class="screen">
: Entering directory `/mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x'
cp /mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x/pd_src.mk /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk;
make: Leaving directory `/mnt/d01/gentoo/codegen/068/doc/testPublic2/makeFile/phyBOARD-WEGA-AM335x'</pre>
</div>
<div>
<h2 class="title">2.  Install Tools and BSP</h2>

<p>Files have already been downloaded before this test. Only the resulting commands are shown. </p>
<pre class="code">
make -n doc_download --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# Download installation doc
mkdir -p /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
cd /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
wget http://www.phytec.de/fileadmin/user_upload/pictures/Produkte/phyBOARDs/L-792e_0.pdf ;
# Download phyBOARD-WEGA-AM335x Quick Start
mkdir -p /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
cd /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
wget http://www.phytec.de/fileadmin/user_upload/pictures/Produkte/phyBOARDs/phyBOARD-Wega_AM3354_QuickStart_Guide_Linux.pdf ;
# Download phyBOARD-WEGA-AM335x Expansion Boards
mkdir -p /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
cd /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
wget http://www.phytec.de/fileadmin/user_upload/downloads/Manuals/L-793e_0.pdf ;
# Download Release Notes
mkdir -p /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
cd /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
wget ftp://ftp.phytec.de/pub/Products/phyBOARD-WEGA-AM335x/Linux/PD13.0.0/ReleaseNotes ;
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state; touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/doc_download
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make -n bsp_download --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# Download BSP
mkdir -p /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
cd /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
wget ftp://ftp.phytec.de/pub/Products/phyBOARD-WEGA-AM335x/Linux/PD13.0.0/phyBOARD-WEGA-AM335x-PD13.0.0.tar.gz ;
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state; touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/bsp_download
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make -n ptxdist_download --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# Download ptxdist
mkdir -p /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
cd /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
wget ftp://ftp.phytec.de/pub/Products/phyBOARD-WEGA-AM335x/Linux/PD13.0.0/ptxdist-2013.01.0.tar.bz2 ;
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state; touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/ptxdist_download
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make -n toolchain_download --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# Download toolchain
mkdir -p /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
cd /mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0 &amp;&amp; \
wget ftp://ftp.phytec.de/pub/Products/phyBOARD-WEGA-AM335x/Linux/PD13.0.0/OSELAS.Toolchain-2012.12.1.tar.bz2 ;
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state; touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/toolchain_download
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Extract ptxdist </p>
<pre class="code">
make ptxdist_extract --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD
tar -jxf "/mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0/ptxdist-2013.01.0.tar.bz2" -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Install ptxdist </p>
<pre class="code">
make ptxdist_install --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/ptxdist-2013.01.0/ &amp;&amp; \
./configure --prefix /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools &amp;&amp; \
make -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/ptxdist-2013.01.0/ &amp;&amp; \
make -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/ptxdist-2013.01.0/ install
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking for ptxdist patches... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc -E
checking </pre>

<p>*** skipped output ***
</p>
<pre class="screen">
/sbin/
./generic/sbin/fake-overlayfs
./generic/sbin/init
./generic/sbin/bootchartd
./generic/usr/
./generic/usr/lib/
./generic/usr/lib/tmpfiles.d/
./generic/usr/lib/tmpfiles.d/ssh.conf
./generic/usr/lib/tmpfiles.d/lighttpd.conf
./generic/usr/lib/crda/
./generic/usr/lib/crda/regulatory.bin
./generic/usr/bin/
./generic/usr/bin/chrony_stat
./generic/usr/bin/pon
./generic/usr/bin/chrony_command
./generic/usr/bin/poff
./generic/usr/bin/ldd
./TODO
./bin/
./bin/sysctl
./bin/readlink
./bin/xargs
./bin/tar
./bin/ptxdist
./bin/sed
./bin/python
./bin/bash
./bin/cp
./bin/awk
./bin/stat
./bin/install
./bin/rmdir
./bin/md5sum
./bin/chmod
./bin/file
./bin/cat
./bin/find
./bin/mkdir
./bin/rm
./bin/make
./bin/chown
./bin/tty
./bin/dirname
./bin/mknod
./bin/sort
./bin/mv
./configure
./.done
./CREDITS
./Makefile.in
./projectroot
make[1]: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/ptxdist-2013.01.0'
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Set PTXCONF_SETUP_SRCDIR in ptxdistrc.</p>
<pre class="code">
make ptxdist_setup_srcdir --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
sed -i -e "/PTXCONF_SETUP_SRCDIR=/ s%PTXCONF_SETUP_SRCDIR=.*$%PTXCONF_SETUP_SRCDIR=\"/mnt/d02/test-develop/distfiles\"%" \
${HOME}/.ptxdist/ptxdistrc-2013.01 ;
The variable PTXCONF_SETUP_SRCDIR is set to the new value '/mnt/d02/test-develop/distfiles' in /home/jan/.ptxdist/ptxdistrc-2013.01
PTXCONF_SETUP_SRCDIR="/mnt/d02/test-develop/distfiles"
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Extract and configure the tool chain. </p>
<pre class="code">
make toolchain_extract --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
tar -jxf "/mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0/OSELAS.Toolchain-2012.12.1.tar.bz2" -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make toolchain_prefix --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
sed -i -e "/PTXCONF_PREFIX=/ s%PTXCONF_PREFIX=.*$%PTXCONF_PREFIX=\"/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/toolchain\"%" \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/OSELAS.Toolchain-2012.12.1/ptxconfigs/arm-cortexa8-linux-gnueabihf_gcc-4.7.3_glibc-2.16.0_binutils-2.22_kernel-3.6-sanitized.ptxconfig ;
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make toolchain_select --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/OSELAS.Toolchain-2012.12.1; /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 select ptxconfigs/arm-cortexa8-linux-gnueabihf_gcc-4.7.3_glibc-2.16.0_binutils-2.22_kernel-3.6-sanitized.ptxconfig
info: selected ptxconfig:
      'ptxconfigs/arm-cortexa8-linux-gnueabihf_gcc-4.7.3_glibc-2.16.0_binutils-2.22_kernel-3.6-sanitized.ptxconfig'

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make toolchain_migrate --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/OSELAS.Toolchain-2012.12.1 &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 migrate ;
#
# configuration written to .config
#
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>check PTXCONF_SETUP_SRCDIR in ptxdistrc for toolchain</p>
<pre class="code">
make toolchain_check_srcdir --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
ptxdist settings are in '/home/jan/.ptxdist/ptxdistrc-2013.01'
Source archives are downloaded to '/mnt/d02/test-develop/distfiles'
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Build the tool chain. This will take some time.</p>
<pre class="code">
make toolchain_build --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'

You need write permission to the new toolchain folder, when it is built. If you encounter an error just check the permissions and adjust them.

cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/OSELAS.Toolchain-2012.12.1 &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 go

-----------------------
target: glibc-ports.get
-----------------------

finished target glibc-ports.get

---------------------------
target: glibc-ports.extract
---------------------------

extract: pkg_src=/mnt/d02/test-develop/distfiles/glibc-ports-2.16.0.tar.bz2
extract: pkg_extract_dir=OSELAS.Toolchain-2012.12.1/platform-arm-cortexa8-linux-gnueabihf-gcc-4.7.3-glibc-2.16.0-binutils-2.22-kernel-3.6-sanitized/build-target/glibc-ports-2.16.0
patchin: no patches found
finished target glibc-ports.extract

--------------------
target: base.install
--------------------

finished target base.install

----------</pre>

<p>*** skipped output ***
</p>
<pre class="screen">
ueabihf-gcc-4.7.3-glibc-2.16.0-binutils-2.22-kernel-3.6-sanitized/build-cross/gdb-7.5/gdb'
make[2]: Nothing to be done for `install-target'.
make[2]: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/OSELAS.Toolchain-2012.12.1/platform-arm-cortexa8-linux-gnueabihf-gcc-4.7.3-glibc-2.16.0-binutils-2.22-kernel-3.6-sanitized/build-cross/gdb-7.5'
make[1]: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/OSELAS.Toolchain-2012.12.1/platform-arm-cortexa8-linux-gnueabihf-gcc-4.7.3-glibc-2.16.0-binutils-2.22-kernel-3.6-sanitized/build-cross/gdb-7.5'
finished target cross-gdb.install

------------------------------
target: cross-gdb.install.pack
------------------------------

finished target cross-gdb.install.pack

------------------------------
target: cross-gdb.install.post
------------------------------

finished target cross-gdb.install.post
finished target world.targetinstall
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Delete the source code folder, because it is no longer needed. </p>
<pre class="code">
make toolchain_clean_build --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
delete temporary files of toolchain in order to save disk space 
if [ -e  "/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/OSELAS.Toolchain-2012.12.1/platform-arm-cortexa8-linux-gnueabihf-gcc-4.7.3-glibc-2.16.0-binutils-2.22-kernel-3.6-sanitized" ]; then rm -r "/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/OSELAS.Toolchain-2012.12.1/platform-arm-cortexa8-linux-gnueabihf-gcc-4.7.3-glibc-2.16.0-binutils-2.22-kernel-3.6-sanitized"; fi
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Extract and configure the BSP. </p>
<pre class="code">
make bsp_prepare --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'

Preparations:

This makefile has been tested on a Gentoo installation www.gentoo.org.

You have to be able to use the command 'sudo'
If you are not able to use it, then edit the file '/etc/sudoers' and add the line
jan     ALL=(ALL) ALL

The source code packages in the folder '/mnt/d02/test-develop/distfiles' are used.
If they are not available, they are downloaded in this folder.
If you have already downloaded these files somewhere else, copy them to this folder or change the macro MY_DOWNLOAD_SRC accordingly.


make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make bsp_extract --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD
tar -zxf "/mnt/d02/test-develop/archive/phyBOARD-WEGA-AM335x/phytec/PD13.0.0/phyBOARD-WEGA-AM335x-PD13.0.0.tar.gz" -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make bsp_config --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 select configs/ptxconfig &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 platform configs/phyBOARD-WEGA-AM335x/platformconfig
info: selected ptxconfig:
      'configs/ptxconfig'

info: selected platformconfig:
      'configs/phyBOARD-WEGA-AM335x/platformconfig'

error: sorry, no toolchain found, matching
	/opt/OSELAS.Toolchain-2012.12.1*/arm-cortexa8-linux-gnueabihf/gcc-4.7.3-glibc-2.16.0-*/bin
      please use 'ptxdist toolchain &lt;/path/to/toolchain>' to select your toolchain

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make bsp_compiler --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 toolchain /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/toolchain/OSELAS.Toolchain-2012.12.1/arm-cortexa8-linux-gnueabihf/gcc-4.7.3-glibc-2.16.0-binutils-2.22-kernel-3.6-sanitized/bin
found and using toolchain:
'/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/toolchain/OSELAS.Toolchain-2012.12.1/arm-cortexa8-linux-gnueabihf/gcc-4.7.3-glibc-2.16.0-binutils-2.22-kernel-3.6-sanitized/bin'

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>check PTXCONF_SETUP_SRCDIR in ptxdistrc for bsp</p>
<pre class="code">
make bsp_check_srcdir --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
ptxdist settings are in '/home/jan/.ptxdist/ptxdistrc-2013.01'
Source archives are downloaded to '/mnt/d02/test-develop/distfiles'
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>
</div>
<div>
<h2 class="title">3.  Build BSP</h2>

<p>Build the BSP. </p>
<pre class="code">
make bsp_go --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 go

-------------------
target: ethtool.get
-------------------

finished target ethtool.get

-----------------------
target: ethtool.extract
-----------------------

extract: pkg_src=/mnt/d02/test-develop/distfiles/ethtool-3.0.tar.bz2
extract: pkg_extract_dir=phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/ethtool-3.0
patchin: no patches found
finished target ethtool.extract

----------------
target: base.get
----------------

finished target base.get

--------------------
target: base.extract
--------------------

patchin: no patches found
finished target base.extract

-------------------------
target: kernel-header.get
-------------------------

finished target kernel-header.get

-----------------------------
target: kerne</pre>

<p>*** skipped output ***
</p>
<pre class="screen">
x/packages/host-mtd-utils-1.5.0///share/man/man1/*.1
make[1]: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-host/mtd-utils-1.5.0'
finished target host-mtd-utils.install

-----------------------------------
target: host-mtd-utils.install.pack
-----------------------------------

finished target host-mtd-utils.install.pack

-----------------------------------
target: host-mtd-utils.install.post
-----------------------------------

finished target host-mtd-utils.install.post
finished target world.targetinstall



-------------------------------------------------------------------
For a proper NFS-root environment, some device nodes are essential.
In order to create them root privileges are required.
-------------------------------------------------------------------




WARNING: NFS-root might not be working correctly!


make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Root privileges are needed to create some device nodes. </p>
<pre class="code">
make rm_bsp_go bsp_go --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
if [ -e /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/bsp_go ]; then rm /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/bsp_go; fi
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 go



-------------------------------------------------------------------
For a proper NFS-root environment, some device nodes are essential.
In order to create them root privileges are required.</pre>

<pre class="code">
</pre>

<pre class="screen">
-------------------------------------------------------------------

creating device node: platform-phyBOARD-WEGA-AM335x/root/dev/null
creating device node: platform-phyBOARD-WEGA-AM335x/root/dev/zero
creating device node: platform-phyBOARD-WEGA-AM335x/root/dev/console
creating device node: platform-phyBOARD-WEGA-AM335x/root-debug/dev/null
creating device node: platform-phyBOARD-WEGA-AM335x/root-debug/dev/zero
creating device node: platform-phyBOARD-WEGA-AM335x/root-debug/dev/console

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Create Images. </p>
<pre class="code">
make rm_bsp_images bsp_images --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
if [ -e /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/bsp_images ]; then rm /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/bsp_images; fi
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 images
Creating ipkg index '/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/packages/Packages'...

done.
Installing ethtool (3.0) to root...
Installing ethtool (3.0) to root...
Installing ethtool (3.0) to root...
Installing ethtool (3.0) to root...
Installing ethtool (3.0) to root...
Installing glib (2.34.3) to root...
Installing ethtool (3.0) to root...
Installing glib (2.34.3) to root...
Installing ethtool (3.0) to root...
Installing glib (2.34.3) to root...
Installing libffi (3.0.11) t</pre>

<p>*** skipped output ***
</p>
<pre class="screen">

Configuring libusb
Configuring lighttpd
Configuring machine-id
Configuring memedit
Configuring memtester
Configuring mtd-utils
Configuring ncurses
Configuring openssh
Configuring openssl
Configuring os-release
Configuring pureftpd
Configuring qt4
Configuring qt4-demos
Configuring qt4-examples
Configuring qtdemo-startscript
Configuring qwt
Configuring rc-once
Configuring readline
Configuring rootfs
Configuring smartmontools
Configuring strace
Configuring tslib
Configuring udev
Configuring usbutils
Configuring util-linux-ng
Configuring wireless
Configuring wpa-supplicant
Configuring xz
Configuring zip
Configuring zlib
Successfully terminated.
finished target image_working_dir
Creating root.tgz from working dir...done.
Creating root.ubifs from working dir... (-m 2048 -e 126976 -c 3929  -F)done.
Creating root.ubi from root.ubifs ... (-s 512 -O 2048 -p 131072 -m 2048) done.
Clean up temp working directory
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>
</div>
<div>
<h2 class="title">4.  Prepare Barebox Environment on TFTP Server</h2>

<p>Download bundle of tftpboot_local</p>
<pre class="code">
make download_bundle_git_tftpboot_local --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# Download bundles from remote server
'/mnt/d02/home/jan/Develop/pcm051-wega/distrib/20140923-1/bundles/tftpboot-phyBOARD-WEGA.bundle' -> '/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/bundles/tftpboot-phyBOARD-WEGA.bundle'
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Install local repository for local barebox environment. </p>
<pre class="code">
make create_git_tftpboot_local --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
Cloning into bare repository '/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/git-PD/tftpboot/phyBOARD-WEGA.git'...
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Create work folder for barebox environment. </p>
<pre class="code">
make create_co_git_tftpboot_work --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
Create source code folder, checkout files .
Initialized empty Git repository in /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tftpboot/phyBOARD-WEGA/.git/
From /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/git-PD/tftpboot/phyBOARD-WEGA
 * [new branch]      phyBOARD-WEGA-13.0.0-01 -> origin/phyBOARD-WEGA-13.0.0-01
Switched to a new branch 'phyBOARD-WEGA-13.0.0-01'
Branch phyBOARD-WEGA-13.0.0-01 set up to track remote branch phyBOARD-WEGA-13.0.0-01 from origin.
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Copy from work folder of the barebox environment into image folder. Copy the prepared tftpboot files into the images folder.</p>
<pre class="code">
make archive_barebox_env --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/barebox/
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tftpboot/phyBOARD-WEGA &amp;&amp; \
cp --parents env/network/eth0 env/boot/net-02 env/bin/net-03 env/boot/mmc-02 env/init/automount /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/barebox/
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Barebox config files are copied into the real folder tftpboot, which is used by the tftp server. Do it only once. </p>
<pre class="code">
make cp_barebox_config --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
mkdir -p /tftpboot/phyBOARD-WEGA/
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/barebox/ &amp;&amp; \
cp --parents env/network/eth0 env/boot/net-02 env/bin/net-03 env/boot/mmc-02 env/init/automount /tftpboot/phyBOARD-WEGA/
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Because the config files contain dummy ip addresses, it is important to set the correct ip addresses. </p>
<pre class="code">
make set_ip_barebox_config --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# set ip addresses in /tftpboot/phyBOARD-WEGA/env/network/eth0
sed -i \
-e "/\# ip setting/,+1 s/.*ip=.*/ip=static/" \
-e "/\# static setup/,+4 { ; \
 s/.*ipaddr=.*/ipaddr=192.168.1.8/; \
 s/.*netmask=.*/netmask=255.255.255.0/; \
 s/.*serverip=.*/serverip=192.168.1.32/; \
 s/.*gateway=.*/gateway=192.168.1.1/ \
}" \
/tftpboot/phyBOARD-WEGA/env/network/eth0
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>
</div>
<div>
<h2 class="title">5.  Boot from SD-Card</h2>

<p>Save barebox image, kernel image and device tree in image folder. </p>
<pre class="code">
make kernel_01 --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_tftp_nfs/
cp /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/images/linuximage /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_tftp_nfs/uImage-phyBOARD-WEGA
cp /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/images/barebox-image /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_tftp_nfs/barebox-phyBOARD-WEGA.img
cp /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/images/MLO /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_tftp_nfs/MLO-phyBOARD-WEGA.img
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_tftp_nfs
cp /mnt/</pre>

<p>*** skipped output ***
</p>
<pre class="screen">
M335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/images/root.tgz /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_tftp_nfs/root-phyBOARD-WEGA.tar.gz
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_mmc
ln -sf ../boot_tftp_nfs/uImage-phyBOARD-WEGA /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_mmc/uImage-phyBOARD-WEGA
ln -sf ../boot_tftp_nfs/barebox-phyBOARD-WEGA.img /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_mmc/barebox-phyBOARD-WEGA.img
ln -sf ../boot_tftp_nfs/MLO-phyBOARD-WEGA.img /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_mmc/MLO-phyBOARD-WEGA.img
ln -sf ../boot_tftp_nfs/root-phyBOARD-WEGA.tar.gz /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_mmc/root-phyBOARD-WEGA.tar.gz
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Insert SD-Card</p>
<pre class="code">
make parted_sdcard_01 cp_archive_sdcard_01 cp_file_sdcard_01 --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
if [ -e /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/cp_archive_sdcard_01 ]; then rm /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/cp_archive_sdcard_01; fi
if [ -e /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/cp_file_sdcard_01 ]; then rm /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/cp_file_sdcard_01; fi
sudo dd if=/dev/zero of=/dev/sdb bs=512 count=16384
16384+0 records in
16384+0 records out
8388608 bytes (8.4 MB) copied, 3.54927 s, 2.4 MB/s
sudo parted -s /dev/sdb mklabel msdos
sudo parted -s /dev/sdb mkpart primary fat16 1MB 33MB
sudo parted -s /dev/sdb mkpart primary ext3 33MB 289MB
sudo parted -s /dev/sdb set 1 boot on
sudo parted /dev/sdb print
Model: USB Mass Storage Device (scsi)
Disk /dev/sdb: 16.0GB
Sector size (logical/physical): 512B/512B
Partition </pre>

<p>*** skipped output ***
</p>
<pre class="screen">
&amp;  \
sudo tar -xzf /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_mmc/root-phyBOARD-WEGA.tar.gz -C ${COPY_DEV} &amp;&amp; \
sudo umount ${COPY_DEV};
sync

create boot on /dev/sdb1
sudo mkfs.vfat -F 16 -n "boot" /dev/sdb1
mkfs.fat 3.0.22 (2013-07-19)
sync
COPY_DEV=$(mktemp -d /tmp/copy_fs_XXXX) &amp;&amp;  \
sudo mount /dev/sdb1 ${COPY_DEV} &amp;&amp;  \
sudo cp /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_mmc/MLO-phyBOARD-WEGA.img ${COPY_DEV}/MLO &amp;&amp; \
sudo cp /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_mmc/barebox-phyBOARD-WEGA.img ${COPY_DEV}/barebox.bin &amp;&amp; \
sudo cp /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_mmc/uImage-phyBOARD-WEGA ${COPY_DEV}/linuximage &amp;&amp; \
sudo umount ${COPY_DEV};
sync
sudo fsck.vfat -n /dev/sdb1
fsck.fat 3.0.22 (2013-07-19)
/dev/sdb1: 4 files, 1727/15321 clusters
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Insert SD-Card into board and boot from SD-card</p>
<pre class="screen">

barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from MMC


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
Open /boot/barebox.env No such file or directory
no valid environment found on /boot/barebox.env. Using default environment
running /env/bin/init...

Hit m for menu or any other key to stop autoboot:  3</pre>

<pre class="code">
</pre>

<pre class="screen">

type exit to get to the menu
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
printenv</pre>

<pre class="screen">
locals:
i=/env/init/ps1
mtdparts=128k(nand0.xload),128k(nand0.xload_backup1),128k(nand0.xload_backup2),128k(nand0.xload_backup3),512k(nand0.barebox)ro,128k(nand0.bareboxenv),8M(nand0.kernel),-(nand0.root)
kernelname=omap2-nand.0
key=

autoboot=1
globals:
bootsource=mmc
bootsource_instance=0
armlinux_architecture=4144
PATH=/env/bin
PS1=\e[1;32mbarebox@\e[1;36m\h:\w\e[0m 
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
devinfo</pre>

<pre class="screen">
devices:
`---- global
`---- platform
     `---- ns16550_serial0
          `---- cs0
     `---- mem0
          `---- 0x00000000-0x0fffffff: /dev/ram0
     `---- omap-gpio0
     `---- omap-gpio1
     `---- omap-gpio2
     `---- omap-gpio3
     `---- mem1
          `---- 0x00000000-0x000030c3: /dev/defaultenv
     `---- mem2
          `---- 0x00000000-0xfffffffe: /dev/mem
     `---- omap4-hsmmc0
          `---- mci0
               `---- 0x00000000-0x3baefffff: /dev/disk0
               `---- 0x00100000-0x01efffff: /dev/disk0.0
               `---- 0x01f00000-0x113fffff: /dev/disk0.1
               `---- fat0
     `---- cpsw0
          `---- miibus0
          `---- eth0
     `---- i2c-am33xx0
          `---- i2c0
               `---- 24c320
                    `---- 0x00000000-0x00000fff: /dev/eeprom0
     `---- elm0
     `---- gpmc_nand0
          `---- nand0
               `---- 0x00000000-0x07ffffff: /dev/nand0
               `---- 0x00000000-0x003fffff: /dev/nand_oob0
               `---- 0x00000000-0x0001fff</pre>

<p>*** skipped output ***
</p>
<pre class="screen">
_raw
               `---- 0x00080000-0x000fffff: /dev/self_raw
               `---- 0x00100000-0x0011ffff: /dev/env_raw
               `---- 0x00000000-0x0001ffff: /dev/nand0.xload
               `---- 0x00020000-0x0003ffff: /dev/nand0.xload_backup1
               `---- 0x00040000-0x0005ffff: /dev/nand0.xload_backup2
               `---- 0x00060000-0x0007ffff: /dev/nand0.xload_backup3
               `---- 0x00080000-0x000fffff: /dev/nand0.barebox
               `---- 0x00100000-0x0011ffff: /dev/nand0.bareboxenv
               `---- 0x00120000-0x0091ffff: /dev/nand0.kernel
               `---- 0x00920000-0x07ffffff: /dev/nand0.root
`---- mdio_bus
`---- usb
`---- i2c
`---- fs
     `---- ramfs0
     `---- devfs0
`---- net

drivers:
ns16550_serial
basic-mmio-gpio
ramfs
devfs
fat
tftp
nfs
omap-gpio
SMSC LAN83C185
SMSC LAN8187
SMSC LAN8700
SMSC LAN911x Internal PHY
SMSC LAN8710/LAN8720
cpsw
Generic PHY
gpmc_nand
elm
i2c-omap
omap-hsmmc
at24
mem
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
meminfo</pre>

<pre class="screen">
max system bytes =    1875968
system bytes     =    1875968
in use bytes     =    1867896
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cpuinfo</pre>

<pre class="screen">
implementer: ARM
architecture: v7
core: Cortex-A8 r3p2
cache: no cache
Control register: M C W P D L Z I V DT IT U XP 
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
ls /boot</pre>

<pre class="screen">
MLO            barebox.bin    linuximage     
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
ls /dev</pre>

<pre class="screen">
defaultenv                disk0
disk0.0                   disk0.1
eeprom0                   env0
env_raw                   full
mem                       nand0
nand0.barebox             nand0.barebox.bb
nand0.bareboxenv          nand0.bareboxenv.bb
nand0.kernel              nand0.kernel.bb
nand0.root                nand0.root.bb
nand0.xload               nand0.xload.bb
nand0.xload_backup1       nand0.xload_backup1.bb
nand0.xload_backup2       nand0.xload_backup2.bb
nand0.xload_backup3       nand0.xload_backup3.bb
nand_oob0                 null
ram0                      self0
self_raw                  xload
xload_raw                 zero
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
ls /mnt</pre>

<pre class="screen">
.       ..      tftp    
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/config</pre>

<pre class="screen">
#!/bin/sh

# change network settings in /env/network/eth0
# change mtd partition settings and automountpoints in /env/init/*

# set to false if you do not want to have colors
global.allow_color=true

# user (used for network filenames)
#global.user=none

# timeout in seconds before the default boot entry is started
global.autoboot_timeout=3

# list of boot entries. These are executed in order until one
# succeeds. An entry can be:
# - a filename in /env/boot/
# - a full path to a directory. All files in this directory are
#   treated as boot files and executed in alphabetical order
# - setting the global.boot.default to $bootsource loads kernel/rootfs
#   from where the board boots
global.boot.default=$bootsource
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/config-board</pre>

<pre class="screen">
#!/bin/sh

# board defaults, do not change in running system. Change /env/config
# instead

global linux.bootargs.dyn.display

global.hostname=phyBOARD-WEGA
global.linux.bootargs.base="console=ttyO0,115200"
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/network/eth0</pre>

<pre class="screen">
#!/bin/sh

# ip setting (static/dhcp)
ip=static
global.dhcp.vendor_id=barebox-${global.hostname}

# static setup used if ip=static
ipaddr=192.168.3.11
netmask=255.255.255.0
gateway=192.168.3.10
serverip=192.168.3.10
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/boot/mmc</pre>

<pre class="screen">
#!/bin/sh

if [ "$1" = menu ]; then
	boot-menu-add-entry "$0" "kernel &amp; rootfs on SD card"
	exit
fi

bootargs-ip
bootargs-display

global.bootm.image=/boot/linuximage
#global.bootm.oftree=/boot/oftree
global.linux.bootargs.dyn.root="root=/dev/mmcblk0p2 rootfstype=ext3 rootwait"
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/boot/nand</pre>

<pre class="screen">
#!/bin/sh

if [ "$1" = menu ]; then
	boot-menu-add-entry "$0" "nand (UBI)"
	exit
fi

bootargs-ip
bootargs-display

global.bootm.image="/dev/nand0.kernel.bb"
#global.bootm.oftree="/env/oftree"
global.linux.bootargs.dyn.root="root=ubi0:root ubi.mtd=nand0.root,2048 rootfstype=ubifs"
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/boot/net</pre>

<pre class="screen">
#!/bin/sh

if [ "$1" = menu ]; then
	boot-menu-add-entry "$0" "network (tftp, nfs)"
	exit
fi

path="/mnt/tftp"

global.bootm.image="${path}/${global.user}-linux-${global.hostname}"

oftree="${path}/${global.user}-oftree-${global.hostname}"
if [ -f "${oftree}" ]; then
	global.bootm.oftree="$oftree"
fi

nfsroot="/home/${global.user}/nfsroot/${global.hostname}"
bootargs-ip
global.linux.bootargs.dyn.root="root=/dev/nfs nfsroot=$nfsroot,v3,tcp"
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/boot/spi</pre>

<pre class="screen">
could not open /env/boot/spi: No such file or directory
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/data/ansi-colors</pre>

<pre class="screen">
#!/bin/sh

if [ ${global.allow_color} != "true" ]; then
	exit
fi

# Colors
export RED='\e[1;31m'
export BLUE='\e[1;34m'
export GREEN='\e[1;32m'
export CYAN='\e[1;36m'
export YELLOW='\e[1;33m'
export PINK='\e[1;35m'
export WHITE='\e[1;37m'

export DARK_RED='\e[2;31m'
export DARK_BLUE='\e[2;34m'
export DARK_GREEN='\e[2;32m'
export DARK_CYAN='\e[2;36m'
export DARK_YELLOW='\e[2;33m'
export DARK_PINK='\e[2;35m'
export DARK_WHITE='\e[2;37m'

export RED_INV='\e[1;41m'
export BLUE_INV='\e[1;44m'
export GREEN_INV='\e[1;42m'
export CYAN_INV='\e[1;46m'
export ORANGE_INV='\e[1;43m'
export PINK_INV='\e[1;45m'
export NC='\e[0m' # No Color
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/data/boot-template</pre>

<pre class="screen">
#!/bin/sh

if [ "$1" = menu ]; then
	boot-menu-add-entry "$0" "&lt;menu text here>"
	exit
fi

global.bootm.image=&lt;path to image>
#global.bootm.oftree=&lt;path to oftree>
#global.bootm.initrd=&lt;path to initrd>

#bootargs-ip

global.linux.bootargs.dyn.root="root=&lt;rootfs here>"
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/init/automount</pre>

<pre class="screen">
#!/bin/sh

if [ "$1" = menu ]; then
	init-menu-add-entry "$0" "Automountpoints"
	exit
fi

# automount tftp server based on $eth0.serverip

mkdir -p /mnt/tftp
automount /mnt/tftp 'ifup eth0 &amp;&amp; mount -t tftp $eth0.serverip /mnt/tftp'

# automount nfs server example

#nfshost=somehost
#mkdir -p /mnt/${nfshost}
#automount /mnt/$nfshost "ifup eth0 &amp;&amp; mount -t nfs ${nfshost}:/tftpboot /mnt/${nfshost}"

# FAT on usb disk example

#mkdir -p /mnt/fat
#automount -d /mnt/fat 'usb &amp;&amp; [ -e /dev/disk0.0 ] &amp;&amp; mount /dev/disk0.0 /mnt/fat'
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/init/mtdparts-nand</pre>

<pre class="screen">
#!/bin/sh

if [ "$1" = menu ]; then
	init-menu-add-entry "$0" "NAND partitions"
	exit
fi

mtdparts="128k(nand0.xload),128k(nand0.xload_backup1),128k(nand0.xload_backup2),128k(nand0.xload_backup3),512k(nand0.barebox)ro,128k(nand0.bareboxenv),8M(nand0.kernel),-(nand0.root)"
kernelname="omap2-nand.0"

mtdparts-add -b -d nand0 -k ${kernelname} -p ${mtdparts}
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/init/mtdparts-nor</pre>

<pre class="screen">
could not open /env/init/mtdparts-nor: No such file or directory
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/data/ps1</pre>

<pre class="screen">
could not open /env/data/ps1: No such file or directory
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/boot-entries-collect</pre>

<pre class="screen">
#!/bin/sh

cd /env/boot

./$global.boot.default menu

for i in *; do
	if [ "$i" != "$global.boot.default" ]; then
		./$i menu
	fi
done

cd /
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/boot-entries-edit</pre>

<pre class="screen">
#!/bin/sh

export menu_exit=false

while true; do
	menu -a -m boot_entries_edit -d "\e[1;36mEdit boot entries\e[0m"

	boot-entries-collect

	menu -e -a -m boot_entries_edit -c "boot-menu-new-boot-entry" -d "Add a new entry"
	menu -e -a -m boot_entries_edit -c "boot-entries-remove" -d "Remove an entry"
	menu -e -a -m boot_entries_edit -c "menu_exit=true" -d "back"

	menu -s -m boot_entries_edit
	menu -r -m boot_entries_edit

	if [ $menu_exit = true ]; then
		exit
	fi
done
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/boot-entries-remove</pre>

<pre class="screen">
#!/bin/sh

export menu_exit=false

while true; do
	menu -a -m boot_entries_remove -d "\e[1;36mRemove Boot entry\e[0m"

	boot-entries-collect

	menu -e -a -m boot_entries_remove -c "menu_exit=true" -d "back"

	menu -s -m boot_entries_remove
	menu -r -m boot_entries_remove

	if [ $menu_exit = true ]; then
		exit
	fi
done
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/boot-menu-add-entry</pre>

<pre class="screen">
#!/bin/sh

menu -e -a -m boot -c "boot -v $1; echo; readline \"press enter to continue\" a " -d "Boot: ${GREEN}$2${NC}"
menu -e -a -m boot_entries_edit -c "$global.editcmd /env/boot/$1" -d "${GREEN}$2${NC}"
menu -e -a -m boot_entries_remove -c "rm /env/boot/$1" -d "${GREEN}$2${NC}"
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/boot-menu-new-boot-entry</pre>

<pre class="screen">
#!/bin/sh

name=

readline "Name of the new entry: " name

if [ -z "$name" ]; then
	exit 1
fi

if [ -e "/env/boot/$name" ]; then
	echo "entry $name already exists"
	readline "&lt;enter>" unused
	exit 1
fi

cp /env/data/boot-template /env/boot/$name

edit /env/boot/$name

boot-menu-show rebuild
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/init-entries-collect</pre>

<pre class="screen">
#!/bin/sh

cd /env/init

for i in *; do
	./$i menu
done

cd /
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/init-entries-edit</pre>

<pre class="screen">
#!/bin/sh

export menu_exit=false

while true; do
	menu -a -m init_entries_edit -d "\e[1;36mEdit init entries\e[0m"

	menu -e -a -m init_entries_edit -R -c "true" -d ">> Reset board to let changes here take effect &lt;&lt;"

	init-entries-collect

	menu -e -a -m init_entries_edit -c "menu_exit=true" -d "back"

	menu -s -m init_entries_edit
	menu -r -m init_entries_edit

	if [ $menu_exit = true ]; then
		exit
	fi
done
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/init-menu-add-entry</pre>

<pre class="screen">
#!/bin/sh

menu -e -a -m init_entries_edit -c "$global.editcmd /env/init/$1" -d "\e[1;32m$2\e[0m"
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/mainmenu</pre>

<pre class="screen">
#!/bin/sh

savepath=$PATH
export menupath=$PATH:/env/menu

. /env/data/ansi-colors

while true; do
	export PATH=${menupath}

	echo $PATH

	menu -a -m boot -d "${CYAN}Welcome to Barebox${NC}"

	boot-entries-collect

	menu -e -a -m boot -c "settings" -d "Settings"
	menu -e -a -m boot -c 'PATH=$savepath; echo "enter exit to return to menu"; sh' -d "${DARK_YELLOW}Shell${NC}"
	menu -e -a -m boot -c reset -d "${RED}Reset${NC}"

	menu -s -m boot
	menu -r -m boot
done
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/menu/settings</pre>

<pre class="screen">
#!/bin/sh

export menu_exit=false

while true; do
	menu -a -m settings -d "${CYAN}Settings${NC}"

	menu -e -a -R -m settings -c "$global.editcmd /env/network/eth0" -d "Network settings"
	menu -e -a -R -m settings -c "$global.editcmd /env/config" -d "Config settings"
	menu -e -a -m settings -c "boot-entries-edit" -d "Edit boot entries"
	menu -e -a -m settings -c "init-entries-edit" -d "Edit init entries"
	menu -e -a -R -m settings -c "saveenv || echo \"failed to save environment\" &amp;&amp; sleep 2" -d "Save settings"
	menu -e -a -m settings -c "menu_exit=true" -d "back"

	menu -s -m settings
	menu -r -m settings

	if [ $menu_exit = true ]; then
		exit
	fi
done
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/video/display</pre>

<pre class="screen">
#!/bin/sh

#Displays

display=DVI_XGA
#display=DVI_720P

(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/bin/_boot_help</pre>

<pre class="screen">
could not open /env/bin/_boot_help: No such file or directory
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/bin/boot_list</pre>

<pre class="screen">
could not open /env/bin/boot_list: No such file or directory
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/bin/boot</pre>

<pre class="screen">
could not open /env/bin/boot: No such file or directory
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/bin/bootargs-display</pre>

<pre class="screen">
#!/bin/sh

. /env/video/display

if [ -n $display ]; then
	global.linux.bootargs.dyn.display="da8xx_fb.panel_name=$display"
fi
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/bin/bootargs-ip</pre>

<pre class="screen">
#!/bin/sh

# pass either static ip or dhcp to kernel based on barebox settings

. /env/network/eth0

if [ $ip = dhcp ]; then
	global.linux.bootargs.dyn.ip="ip=dhcp"
else
	global.linux.bootargs.dyn.ip="ip=$ipaddr:$serverip:$gateway:$netmask::eth0:"
fi
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/bin/ifup</pre>

<pre class="screen">
#!/bin/sh

mkdir -p /tmp/network

if [ $# != 1 ]; then
	echo "usage: ifup &lt;interface>"
	exit 1
fi

interface="$1"

if [ -f /tmp/network/$interface ]; then
	exit 0
fi

cmd=/env/network/$interface

if [ ! -e $cmd ]; then
	echo "$f: no such file"
	exit 1
fi

ip=
ipaddr=
netmask=
gateway=
serverip=
ethaddr=

. $cmd

if [ $? != 0 ]; then
	echo "failed to bring up $interface"
	exit 1
fi

if [ -f /env/network/${interface}-discover ]; then
	/env/network/${interface}-discover
	if [ $? != 0 ]; then
		echo "failed to discover eth0"
		exit 1
	fi
fi

if [ -n "$ethaddr" ]; then
	${interface}.ethaddr=$ethaddr
fi

if [ "$ip" = static ]; then
	${interface}.ipaddr=$ipaddr
	${interface}.netmask=$netmask
	${interface}.serverip=$serverip
	${interface}.gateway=$gateway
	ret=0
elif [ "$ip" = dhcp ]; then
	dhcp
	ret=$?
	if [ $ret = 0 -a -n "$serverip" ]; then
		${interface}.serverip=$serverip
	fi
fi

if [ $ret = 0 ]; then
	echo -o /tmp/network/$interface up
fi

exit $ret
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/bin/init</pre>

<pre class="screen">
#!/bin/sh

export PATH=/env/bin

global hostname
global user
global autoboot_timeout
global boot.default
global allow_color
global linux.bootargs.base
#linux.bootargs.dyn.* will be cleared at the beginning of boot
global linux.bootargs.dyn.ip
global linux.bootargs.dyn.root
global editcmd

[ -z "${global.hostname}" ] &amp;&amp; global.hostname=generic
[ -z "${global.user}" ] &amp;&amp; global.user=none
[ -z "${global.autoboot_timeout}" ] &amp;&amp; global.autoboot_timeout=3
[ -z "${global.boot.default}" ] &amp;&amp; global.boot.default=net
[ -z "${global.allow_color}" ] &amp;&amp; global.allow_color=true
[ -z "${global.editcmd}" ] &amp;&amp; global.editcmd=sedit

[ -e /env/config-board ] &amp;&amp; /env/config-board
/env/config

# request password to login if a timeout is specified and password set
if [ -n ${global.login.timeout} ]; then
	[ ${global.login.timeout} -gt 0 ] &amp;&amp; login_cmd=login
fi
# allow the input if not
[ -n ${global.console.input_allow} ] &amp;&amp; global.console.input_allow=1

# allow to stop the boot before execute the /env/init/*
# but without waiting
timeout -s -a -v key 0

if [ "${key}" = "q" ]; then
	${login_cmd}
	exit
fi

[ -n ${login_cmd} ] &amp;&amp; global.console.input_allow=0

for i in /env/init/*; do
	. $i
done

if [ -e /env/menu ]; then
	echo -e -n "\nHit m for menu or any other key to stop autoboot: "
else
	echo -e -n "\nHit any key to stop autoboot: "
fi

[ -n ${login_cmd} ] &amp;&amp; global.console.input_allow=1

timeout -a $global.autoboot_timeout -v key
autoboot="$?"

[ -n ${login_cmd} ] &amp;&amp; global.console.input_allow=0

if [ "${key}" = "q" ]; then
	${login_cmd}
	exit
fi

if [ "$autoboot" = 0 ]; then
	boot
fi

if [ -e /env/menu ]; then
	${login_cmd}
	if [ "${key}" != "m" ]; then
		echo -e "\ntype exit to get to the menu"
		sh
	fi
	/env/menu/mainmenu
fi

${login_cmd}
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/bin/mtdparts-add</pre>

<pre class="screen">
#!/bin/sh

mkdir -p /tmp/mtdparts

parts=
device=
kernelname=
bbdev=

while getopt "p:d:k:b" opt; do
        if [ ${opt} = p ]; then
                parts=${OPTARG}
        elif [ ${opt} = d ]; then
                device=${OPTARG}
        elif [ ${opt} = k ]; then
                kernelname=${OPTARG}
	elif [ ${opt} = b ]; then
		bbdev=true
        fi
done

if [ -z "${device}" ]; then
	echo "$0: no device given"
	exit
fi

if [ -z "${parts}" ]; then
	echo "$0: no partitions given"
	exit
fi

if [ -e /tmp/mtdparts/${device} ]; then
	if [ -n "/dev/${device}.*.bb" ]; then
		nand -d /dev/${device}.*.bb
	fi
	delpart /dev/${device}.*
fi

addpart -n /dev/${device} "$parts" || exit
mkdir -p /tmp/mtdparts/${device}

if [ -n "${bbdev}" ]; then
	nand -a /dev/${device}.*
fi

if [ -n ${kernelname} ]; then
	global linux.mtdparts.${device}
	global.linux.mtdparts.${device}="${kernelname}:${parts}"
fi
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>
</div>
<div>
<h2 class="title">6.  Update MLO and barebox in NAND</h2>

<p>Update MLO and barebox in NAND</p>
<pre class="screen">

barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from MMC


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
Open /boot/barebox.env No such file or directory
no valid environment found on /boot/barebox.env. Using default environment
running /env/bin/init...

Hit m for menu or any other key to stop autoboot:  3</pre>

<pre class="code">
</pre>

<pre class="screen">

type exit to get to the menu
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
devinfo</pre>

<pre class="screen">
devices:
`---- global
`---- platform
     `---- ns16550_serial0
          `---- cs0
     `---- mem0
          `---- 0x00000000-0x0fffffff: /dev/ram0
     `---- omap-gpio0
     `---- omap-gpio1
     `---- omap-gpio2
     `---- omap-gpio3
     `---- mem1
          `---- 0x00000000-0x000030c3: /dev/defaultenv
     `---- mem2
          `---- 0x00000000-0xfffffffe: /dev/mem
     `---- omap4-hsmmc0
          `---- mci0
               `---- 0x00000000-0x3baefffff: /dev/disk0
               `---- 0x00100000-0x01efffff: /dev/disk0.0
               `---- 0x01f00000-0x113fffff: /dev/disk0.1
               `---- fat0
     `---- cpsw0
          `---- miibus0
          `---- eth0
     `---- i2c-am33xx0
          `---- i2c0
               `---- 24c320
                    `---- 0x00000000-0x00000fff: /dev/eeprom0
     `---- elm0
     `---- gpmc_nand0
          `---- nand0
               `---- 0x00000000-0x07ffffff: /dev/nand0
               `---- 0x00000000-0x003fffff: /dev/nand_oob0
               `---- 0x00000000-0x0001fff</pre>

<p>*** skipped output ***
</p>
<pre class="screen">
_raw
               `---- 0x00080000-0x000fffff: /dev/self_raw
               `---- 0x00100000-0x0011ffff: /dev/env_raw
               `---- 0x00000000-0x0001ffff: /dev/nand0.xload
               `---- 0x00020000-0x0003ffff: /dev/nand0.xload_backup1
               `---- 0x00040000-0x0005ffff: /dev/nand0.xload_backup2
               `---- 0x00060000-0x0007ffff: /dev/nand0.xload_backup3
               `---- 0x00080000-0x000fffff: /dev/nand0.barebox
               `---- 0x00100000-0x0011ffff: /dev/nand0.bareboxenv
               `---- 0x00120000-0x0091ffff: /dev/nand0.kernel
               `---- 0x00920000-0x07ffffff: /dev/nand0.root
`---- mdio_bus
`---- usb
`---- i2c
`---- fs
     `---- ramfs0
     `---- devfs0
`---- net

drivers:
ns16550_serial
basic-mmio-gpio
ramfs
devfs
fat
tftp
nfs
omap-gpio
SMSC LAN83C185
SMSC LAN8187
SMSC LAN8700
SMSC LAN911x Internal PHY
SMSC LAN8710/LAN8720
cpsw
Generic PHY
gpmc_nand
elm
i2c-omap
omap-hsmmc
at24
mem
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
erase /dev/nand0.xload.bb</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cp /boot/MLO /dev/nand0.xload.bb</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
erase /dev/nand0.barebox.bb</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cp /boot/barebox.bin /dev/nand0.barebox.bb</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
erase /dev/nand0.bareboxenv</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>
</div>
<div>
<h2 class="title">7.  Update Barebox Environment in NAND</h2>

<p>Copy env/boot/net-02 and some other files to the target. The output of this make command describes how to download files to the target. Follow the instructions. </p>
<pre class="code">
make cp_init_board --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# On the barebox command line:
# Install or update init files manually

# Configure  at first the ip addresses for tftp, if necessary:

eth0.ipaddr=192.168.1.8
eth0.netmask=255.255.255.0
eth0.serverip=192.168.1.32
eth0.gateway=192.168.1.1

# Download files
tftp phyBOARD-WEGA/env/boot/net-02 /env/boot/net-02
tftp phyBOARD-WEGA/env/network/eth0 /env/network/eth0
tftp phyBOARD-WEGA/env/boot/mmc-02 /env/boot/mmc-02
tftp phyBOARD-WEGA/env/init/automount /env/init/automount

# save the environment after the files have been downloaded
saveenv

# Boot the board via TFTP and NFS
boot net-02

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="screen">

barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from NAND


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
envfs: wrong magic on /dev/env0
no valid environment found on /dev/env0. Using default environment
running /env/bin/init...

Hit m for menu or any other key to stop autoboot:  3</pre>

<pre class="code">
</pre>

<pre class="screen">

type exit to get to the menu
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
eth0.ipaddr=192.168.1.8</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
eth0.netmask=255.255.255.0</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
eth0.gateway=192.168.1.1</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
eth0.serverip=192.168.1.32</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
tftp phyBOARD-WEGA/env/boot/net-02 /env/boot/net-02</pre>

<pre class="screen">
100Mbps full duplex link detected
	[                                                                 ]	[#################################################################
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
tftp phyBOARD-WEGA/env/network/eth0 /env/network/eth0</pre>

<pre class="screen">
	[                                                                 ]	[#################################################################
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
tftp phyBOARD-WEGA/env/boot/mmc-02 /env/boot/mmc-02</pre>

<pre class="screen">
	[                                                                 ]	[#################################################################
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
tftp phyBOARD-WEGA/env/init/automount /env/init/automount</pre>

<pre class="screen">
	[                                                                 ]	[#################################################################
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
saveenv</pre>

<pre class="screen">
saving environment
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
reset</pre>
</div>
<div>
<h2 class="title">8.  Boot from NAND, load kernel and rootfs from SD-CARD</h2>

<p>Boot from NAND</p>
<pre class="screen">
reset


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from NAND


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
running /env/bin/init...

Hit m for menu or any other key to stop autoboot:  3</pre>

<pre class="code">
</pre>

<pre class="screen">

type exit to get to the menu
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/boot/mmc-02</pre>

<pre class="screen">
#!/bin/sh

if [ "$1" = menu ]; then
	boot-menu-add-entry "$0" "kernel &amp; rootfs on SD card, bootloader in NAND"
	exit
fi

path="/mnt/mmc"

bootargs-ip
bootargs-display

global.bootm.image=${path}/linuximage
#global.bootm.oftree=${path}/oftree
global.linux.bootargs.dyn.root="root=/dev/mmcblk0p2 rootfstype=ext3 rootwait"
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/init/automount</pre>

<pre class="screen">
#!/bin/sh

if [ "$1" = menu ]; then
	init-menu-add-entry "$0" "Automountpoints"
	exit
fi

# automount tftp server based on $eth0.serverip

mkdir -p /mnt/tftp
automount /mnt/tftp 'ifup eth0 &amp;&amp; mount -t tftp $eth0.serverip /mnt/tftp'

# automount mmc

mkdir -p /mnt/mmc
automount -d /mnt/mmc 'mci0.probe=1 &amp;&amp; [ -e /dev/disk0.0 ] &amp;&amp; mount /dev/disk0.0 /mnt/mmc'

# automount nfs server example

#nfshost=somehost
#mkdir -p /mnt/${nfshost}
#automount /mnt/$nfshost "ifup eth0 &amp;&amp; mount -t nfs ${nfshost}:/tftpboot /mnt/${nfshost}"

# FAT on usb disk example

#mkdir -p /mnt/fat
#automount -d /mnt/fat 'usb &amp;&amp; [ -e /dev/disk0.0 ] &amp;&amp; mount /dev/disk0.0 /mnt/fat'
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
boot mmc-02</pre>

<p>Load kernel and rootfs from SD-card</p>
<pre class="screen">
boot mmc-02
booting mmc-02...
   Image Name:   Linux-3.2.0-PD13.0.0
   OS:           Linux
   Architecture: ARM
   Type:         Kernel Image
   Compression:  uncompressed
   Data Size:    3091896 Bytes = 2.9 MiB
   Load Address: 80008000
   Entry Point:  80008000

Loading OS U-Boot uImage '/mnt/mmc/linuximage'
commandline: console=ttyO0,115200 ip=192.168.1.8:192.168.1.32:192.168.1.1:255.255.255.0::eth0: root=/dev/mmcblk0p2 rootfstype=ext3 rootwait da8xx_fb.panel_name=DVI_XGA mtdparts=omap2-nand.0:128k(nand0.xload),128k(nand0.xload_backup1),128k(nand0.xload_backup2),128k(nand0.xload_backup3),512k(nand0.barebox)ro,128k(nand0.bareboxenv),8M(nand0.kernel),-(nand0.root)
arch_number: 4144
Uncompressing Linux... done, booting the kernel.
[    0.000000] Linux version 3.2.0-PD13.0.0 (jan@gauss) (gcc version 4.7.3 20121106 (prerelease) (OSELAS.Toolchain-2012.12.1 linaro-4.7-2012.11) ) #1 Thu Nov 13 13:30:26 CET 2014
[    0.000000] CPU: ARMv7 Processor [413fc082] revision 2 (ARMv7), cr=10c53c7d
[    0.000000] CPU: PIPT</pre>

<p>*** skipped output ***
</p>
<pre class="screen">
  _______ _____ ____ 
|  _ `| | | ` ` / /_   _| ____/ ___|
| |_) | |_| |` V /  | | |  _|| |    
|  __/|  _  | | |   | | | |__| |___ 
|_|   |_| |_| |_|   |_| |_____`____|

       _           ____   ___    _    ____  ____     __        _______ ____ 
 _ __ | |__  _   _| __ ) / _ `  / `  |  _ `|  _ `    ` `      / / ____/ ___|
| '_ `| '_ `| | | |  _ `| | | |/ _ ` | |_) | | | |____` ` /` / /|  _|| |  _ 
| |_) | | | | |_| | |_) | |_| / ___ `|  _ &lt;| |_| |_____` V  V / | |__| |_| |
| .__/|_| |_|`__, |____/ `___/_/   `_`_| `_`____/       `_/`_/  |_____`____|
|_|          |___/                                                          
    _           _    __  __ ______________      
   / `         / `  |  `/  |___ /___ / ___|_  __
  / _ ` _____ / _ ` | |`/| | |_ ` |_ `___ ` `/ /
 / ___ `_____/ ___ `| |  | |___) |__) |__) >  &lt; 
/_/   `_`   /_/   `_`_|  |_|____/____/____/_/`_`


OSELAS(R)-phyBOARD-WEGA-AM335x-PD13.0.0 / phyBOARD-WEGA-AM335x-PD13.0.0
ptxdist-2013.01.0/2014-11-13T13:32:57+0100

phyBOARD-WEGA-AM335x login: </pre>

<pre class="code">
root</pre>

<pre class="screen">
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
uname -a</pre>

<pre class="screen">
Linux phyBOARD-WEGA-AM335x 3.2.0-PD13.0.0 #1 Thu Nov 13 13:30:26 CET 2014 armv7l GNU/Linux
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/cmdline</pre>

<pre class="screen">
console=ttyO0,115200 ip=192.168.1.8:192.168.1.32:192.168.1.1:255.255.255.0::eth0: root=/dev/mmcblk0p2 rootfstype=ext3 rootwait da8xx_fb.panel_name=DVI_XGA mtdparts=omap2-nand.0:128k(nand0.xload),128k(nand0.xload_backup1),128k(nand0.xload_backup2),128k(nand0.xload_backup3),512k(nand0.barebox)ro,128k(nand0.bareboxenv),8M(nand0.kernel),-(nand0.root)
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
dmesg</pre>

<pre class="screen">
[    0.000000] Linux version 3.2.0-PD13.0.0 (jan@gauss) (gcc version 4.7.3 20121106 (prerelease) (OSELAS.Toolchain-2012.12.1 linaro-4.7-2012.11) ) #1 Thu Nov 13 13:30:26 CET 2014
[    0.000000] CPU: ARMv7 Processor [413fc082] revision 2 (ARMv7), cr=10c53c7d
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] Machine: pcm051
[    0.000000] Memory policy: ECC disabled, Data cache writeback
[    0.000000] On node 0 totalpages: 65536
[    0.000000] free_area_init_node: node 0, pgdat c05fb0d4, node_mem_map c0636000
[    0.000000]   Normal zone: 512 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 65024 pages, LIFO batch:15
[    0.000000] AM335X ES2.1 (sgx neon )
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 65024
[    0.000000] Kernel command line: console=ttyO0,115200 ip=192.168.1.8:</pre>

<p>*** skipped output ***
</p>
<pre class="screen">
 setting CAN BT = 0x209
[   27.083618] tda998x 1-0034: Error -121 writing to cec:0xff
[   27.093505] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   27.099975] dummy 1-0070: Error -121 reading from 0xa
[   27.105438] dummy 1-0070: Error -121 writing to 0xa
[   27.166534] dummy 1-0070: Error -121 reading from 0xa
[   27.171997] dummy 1-0070: Error -121 writing to 0xa
[   27.236541] dummy 1-0070: Error -121 reading from 0x1
[   27.242004] dummy 1-0070: Error -121 writing to 0x1
[   27.247650] dummy 1-0070: Error -121 reading from 0x1
[   27.253112] dummy 1-0070: Error -121 writing to 0x1
[   27.258697] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   27.264709] dummy 1-0070: Error -121 writing to 0x201
[   27.270477] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   27.276672] dummy 1-0070: Error -121 writing to 0x27
[   27.282012] dummy 1-0070: Error -121 reading from 0x0
[   27.287811] dummy 1-0070: Error -121 reading from 0x2
[   27.293121] found unsupported device: 0000
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
mount</pre>

<pre class="screen">
rootfs on / type rootfs (rw)
/dev/root on / type ext3 (rw,relatime,errors=continue,barrier=1,data=ordered)
devtmpfs on /dev type devtmpfs (rw,relatime,size=126744k,nr_inodes=31686,mode=755)
none on /proc type proc (rw,relatime)
none on /tmp type tmpfs (rw,relatime)
none on /sys type sysfs (rw,relatime)
usbfs on /proc/bus/usb type usbfs (rw,relatime,devgid=14,devmode=660)
none on /run type tmpfs (rw,relatime,mode=755)
none on /var/log type tmpfs (rw,relatime,mode=755)
none on /var/run type tmpfs (rw,relatime,mode=755)
none on /var/lock type tmpfs (rw,relatime,mode=755)
none on /var/tmp type tmpfs (rw,relatime)
devpts on /dev/pts type devpts (rw,relatime,mode=600)
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/cpuinfo</pre>

<pre class="screen">
Processor	: ARMv7 Processor rev 2 (v7l)
BogoMIPS	: 796.80
Features	: swp half thumb fastmult vfp edsp thumbee neon vfpv3 tls 
CPU implementer	: 0x41
CPU architecture: 7
CPU variant	: 0x3
CPU part	: 0xc08
CPU revision	: 2

Hardware	: pcm051
Revision	: 0000
Serial		: 0000000000000000
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/meminfo</pre>

<pre class="screen">
MemTotal:         253728 kB
MemFree:          204384 kB
Buffers:            1532 kB
Cached:            18680 kB
SwapCached:            0 kB
Active:            20008 kB
Inactive:          16428 kB
Active(anon):      16260 kB
Inactive(anon):      192 kB
Active(file):       3748 kB
Inactive(file):    16236 kB
Unevictable:           0 kB
Mlocked:               0 kB
HighTotal:             0 kB
HighFree:              0 kB
LowTotal:         253728 kB
LowFree:          204384 kB
SwapTotal:             0 kB
SwapFree:              0 kB
Dirty:               116 kB
Writeback:             0 kB
AnonPages:         16252 kB
Mapped:             6944 kB
Shmem:               228 kB
Slab:               4552 kB
SReclaimable:       1728 kB
SUnreclaim:         2824 kB
KernelStack:         488 kB
PageTables:          356 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:      126864 kB
Committed_AS:      21368 kB
VmallocTotal:     761856 kB
VmallocUsed:        9356 kB
VmallocChunk:     674628 kB
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/interrupts</pre>

<pre class="screen">
           CPU0       
  4:          0      INTC  omap2_elm
 12:       1105      INTC  edma
 14:          0      INTC  edma_error
 18:          0      INTC  musb-hdrc.0
 19:          1      INTC  musb-hdrc.1
 36:       1990      INTC  da8xx_lcdc
 40:          0      INTC  cpsw
 43:          0      INTC  cpsw
 55:          0      INTC  can0
 56:          0      INTC  can0
 64:       3419      INTC  mmc0
 68:       6483      INTC  gp timer
 70:        394      INTC  omap_i2c
 72:       1439      INTC  OMAP UART0
 93:         16      INTC  cpsw
 94:          0      INTC  cpsw
166:          0      GPIO  mmc0
Err:          0
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
ifconfig</pre>

<pre class="screen">
can0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  
          inet addr:127.42.23.180  Mask:255.255.255.0
          UP RUNNING NOARP  MTU:16  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:55 

eth0      Link encap:Ethernet  HWaddr D0:FF:50:2F:54:6D  
          inet addr:192.168.1.8  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:18 errors:0 dropped:13 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:2125 (2.0 KiB)  TX bytes:0 (0.0 B)

eth1      Link encap:Ethernet  HWaddr D0:FF:50:2F:54:6F  
          inet addr:192.168.4.11  Bcast:0.0.0.0  Mask:255.255.255.0
          UP BROADCAST ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
reboot</pre>

<pre class="screen">
root@phyBOARD-WEGA-AM335x:~ starting pid 784, tty '': '/bin/umount -a -r'
umount: can't remount none read-only
umount: can't remount none read-only
umount: can't remount none read-only
umount: can't remount none read-only
umount: none busy - remounted read-only
umount: devtmpfs busy - remounted read-only
The system is going down NOW!
Sent SIGTERM to all processes
Sent SIGKILL to[   47.128509] musb-hdrc musb-hdrc.1: remove, state 1
[   47.133605] usb usb1: USB disconnect, device number 1
[   47.140258] musb-hdrc musb-hdrc.1: USB bus 1 deregistered
[   47.146636] Restarting system.


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from NAND


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
running /env/bin/init...

Hit m for menu or any other key to stop autoboot:  3</pre>

<pre class="code">
</pre>

<pre class="screen">

type exit to get to the menu
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>
</div>
<div>
<h2 class="title">9.  Update Kernel and Rootfs in NAND</h2>

<p>copy kernel image for boot_tftp_nfs and boot_nand into images folder</p>
<pre class="code">
make kernel_boot_tftp_nfs --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
make: Nothing to be done for `kernel_boot_tftp_nfs'.
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Copy kernel into tftp folder</p>
<pre class="code">
make tftpboot_kernel --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
mkdir -p /tftpboot/phyBOARD-WEGA
cp /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_tftp_nfs/uImage-phyBOARD-WEGA /tftpboot/phyBOARD-WEGA/uImage-phyBOARD-WEGA-20141113-1
ln -sf phyBOARD-WEGA/uImage-phyBOARD-WEGA-20141113-1 /tftpboot/uImage-phyBOARD-WEGA
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Copy the ubi image of boot_nand</p>
<pre class="code">
make cp_image_boot_nand --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_nand
cp /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/images/root.ubifs /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_nand/root-phyBOARD-WEGA.ubifs
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Copy root.ubi into tftp folder</p>
<pre class="code">
make tftpboot_root_ubi --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
mkdir -p /tftpboot/phyBOARD-WEGA
cp /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_nand/root-phyBOARD-WEGA.ubifs /tftpboot/phyBOARD-WEGA/root-phyBOARD-WEGA.ubifs-20141113-1
ln -sf phyBOARD-WEGA/root-phyBOARD-WEGA.ubifs-20141113-1 /tftpboot/root-phyBOARD-WEGA.ubifs
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Copy kernel into tftp folder</p>
<pre class="code">
make tftpboot_kernel --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
make: Nothing to be done for `tftpboot_kernel'.
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Update kernel and root on target for boot_nand</p>
<pre class="code">
make update_target_boot_nand --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# On the barebox command line:

# Configure the ip addresses for tftp, if necessary
# change the ip addresses in the /env/network/eth0 file:
edit /env/network/eth0
# CTRL-D to save changes, CTRL-C to abort editing
ipaddr=192.168.1.8
netmask=255.255.255.0
serverip=192.168.1.32
gateway=192.168.1.1


# save the new settings
saveenv
# reset the board, the new settings are applied
reset
# check if the settings have been saved
cat /env/network/eth0


# Write the kernel into flash
erase /dev/nand0.kernel.bb
cp /mnt/tftp/uImage-phyBOARD-WEGA /dev/nand0.kernel.bb

# Write the root file system into flash
ubiformat /dev/nand0.root
ubiattach /dev/nand0.root
ubimkvol /dev/ubi0 root 0
cp /mnt/tftp/root-phyBOARD-WEGA.ubifs /dev/ubi0.root

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="screen">

barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from NAND


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
running /env/bin/init...

Hit m for menu or any other key to stop autoboot:  3</pre>

<pre class="code">
</pre>

<pre class="screen">

type exit to get to the menu
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/network/eth0</pre>

<pre class="screen">
cat /env/network/eth0
#!/bin/sh

# ip setting (static/dhcp)
ip=static
global.dhcp.vendor_id=barebox-${global.hostname}

# static setup used if ip=static
ipaddr=192.168.1.8
netmask=255.255.255.0
gateway=192.168.1.1
serverip=192.168.1.32
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<p>Write the kernel into flash</p>
<pre class="code">
erase /dev/nand0.kernel.bb</pre>

<pre class="screen">
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cp /mnt/tftp/uImage-phyBOARD-WEGA /dev/nand0.kernel.bb</pre>

<pre class="screen">
cp /mnt/tftp/uImage-phyBOARD-WEGA /dev/nand0.kernel.bb
100Mbps full duplex link detected
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<p>Write the root file system into flash</p>
<pre class="code">
ubiformat /dev/nand0.root</pre>

<pre class="screen">
ubiformat: /dev/nand0.root (nand), size 124649472 bytes (118.9 MiB), 951 eraseblocks of 131072 bytes (128 KiB), min. I/O size 2048 bytes
libscan: scanning eraseblock 0 --  0 % complete  libscan: scanning eraseblock 1 --  0 % complete  libscan: scanning eraseblock 2 --  0 % complete  libscan: scanning eraseblock 3 --  0 % complete  libscan: scanning eraseblock 4 --  0 % complete  libscan: scanning eraseblock 5 --  0 % complete  libscan: scanning eraseblock 6 --  0 % complete  libscan: scanning eraseblock 7 --  0 % complete  libscan: scanning eraseblock 8 --  0 % complete  libscan: scanning eraseblock 9 --  1 % complete  libscan: scanning eraseblock 10 --  1 % complete  libscan: scanning eraseblock 11 --  1 % complete  libscan: scanning eraseblock 12 --  1 % complete  libscan: scanning eraseblock 13 --  1 % complete  libscan: scanning eraseblock 14 --  1 % complete  libscan: scanning eraseblock 15 --  1 % complete  libscan: scanning eraseblock 16 --  1 % complete  libscan: scanning eraseblock 1</pre>

<p>*** skipped output ***
</p>
<pre class="screen">
ubiformat: formatting eraseblock 934 -- 98 % complete  ubiformat: formatting eraseblock 935 -- 98 % complete  ubiformat: formatting eraseblock 936 -- 98 % complete  ubiformat: formatting eraseblock 937 -- 98 % complete  ubiformat: formatting eraseblock 938 -- 98 % complete  ubiformat: formatting eraseblock 939 -- 98 % complete  ubiformat: formatting eraseblock 940 -- 98 % complete  ubiformat: formatting eraseblock 941 -- 99 % complete  ubiformat: formatting eraseblock 942 -- 99 % complete  ubiformat: formatting eraseblock 943 -- 99 % complete  ubiformat: formatting eraseblock 944 -- 99 % complete  ubiformat: formatting eraseblock 945 -- 99 % complete  ubiformat: formatting eraseblock 946 -- 99 % complete  ubiformat: formatting eraseblock 947 -- 99 % complete  ubiformat: formatting eraseblock 948 -- 99 % complete  ubiformat: formatting eraseblock 949 -- 99 % complete  ubiformat: formatting eraseblock 950 -- 100 % complete  
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
ubiattach /dev/nand0.root</pre>

<pre class="screen">
UBI: attaching mtd0 to ubi0
UBI: scanning is finished
registering /dev/ubi0
UBI: attached mtd0 (name "nand0.root", size 118 MiB) to ubi0
UBI: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
UBI: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
UBI: VID header offset: 2048 (aligned 2048), data offset: 4096
UBI: good PEBs: 951, bad PEBs: 0, corrupted PEBs: 0
UBI: user volume: 0, internal volumes: 1, max. volumes count: 128
UBI: max/mean erase counter: 12/5, WL threshold: 4096, image sequence number: 14347
UBI: available PEBs: 928, total reserved PEBs: 23, PEBs reserved for bad PEB handling: 19
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
ubimkvol /dev/ubi0 root 0</pre>

<pre class="screen">
registering root as /dev/ubi0.root
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cp /mnt/tftp/root-phyBOARD-WEGA.ubifs /dev/ubi0.root</pre>
</div>
<div>
<h2 class="title">10.  Boot from NAND, use kernel and rootfs in NAND</h2>

<p>Boot from NAND</p>
<pre class="screen">
cp /mnt/tftp/root-phyBOARD-WEGA.ubifs /dev/ubi0.root
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
reset</pre>

<pre class="screen">


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from NAND


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
running /env/bin/init...

Hit m for </pre>

<p>*** skipped output ***
</p>
<pre class="screen">
  _______ _____ ____ 
|  _ `| | | ` ` / /_   _| ____/ ___|
| |_) | |_| |` V /  | | |  _|| |    
|  __/|  _  | | |   | | | |__| |___ 
|_|   |_| |_| |_|   |_| |_____`____|

       _           ____   ___    _    ____  ____     __        _______ ____ 
 _ __ | |__  _   _| __ ) / _ `  / `  |  _ `|  _ `    ` `      / / ____/ ___|
| '_ `| '_ `| | | |  _ `| | | |/ _ ` | |_) | | | |____` ` /` / /|  _|| |  _ 
| |_) | | | | |_| | |_) | |_| / ___ `|  _ &lt;| |_| |_____` V  V / | |__| |_| |
| .__/|_| |_|`__, |____/ `___/_/   `_`_| `_`____/       `_/`_/  |_____`____|
|_|          |___/                                                          
    _           _    __  __ ______________      
   / `         / `  |  `/  |___ /___ / ___|_  __
  / _ ` _____ / _ ` | |`/| | |_ ` |_ `___ ` `/ /
 / ___ `_____/ ___ `| |  | |___) |__) |__) >  &lt; 
/_/   `_`   /_/   `_`_|  |_|____/____/____/_/`_`


OSELAS(R)-phyBOARD-WEGA-AM335x-PD13.0.0 / phyBOARD-WEGA-AM335x-PD13.0.0
ptxdist-2013.01.0/2014-11-13T13:32:57+0100

phyBOARD-WEGA-AM335x login: </pre>

<pre class="code">
root</pre>

<pre class="screen">
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
uname -a</pre>

<pre class="screen">
Linux phyBOARD-WEGA-AM335x 3.2.0-PD13.0.0 #1 Thu Nov 13 13:30:26 CET 2014 armv7l GNU/Linux
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/cmdline</pre>

<pre class="screen">
console=ttyO0,115200 ip=192.168.1.8:192.168.1.32:192.168.1.1:255.255.255.0::eth0: root=ubi0:root ubi.mtd=nand0.root,2048 rootfstype=ubifs da8xx_fb.panel_name=DVI_XGA mtdparts=omap2-nand.0:128k(nand0.xload),128k(nand0.xload_backup1),128k(nand0.xload_backup2),128k(nand0.xload_backup3),512k(nand0.barebox)ro,128k(nand0.bareboxenv),8M(nand0.kernel),-(nand0.root)
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
dmesg</pre>

<pre class="screen">
[    0.000000] Linux version 3.2.0-PD13.0.0 (jan@gauss) (gcc version 4.7.3 20121106 (prerelease) (OSELAS.Toolchain-2012.12.1 linaro-4.7-2012.11) ) #1 Thu Nov 13 13:30:26 CET 2014
[    0.000000] CPU: ARMv7 Processor [413fc082] revision 2 (ARMv7), cr=10c53c7d
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] Machine: pcm051
[    0.000000] Memory policy: ECC disabled, Data cache writeback
[    0.000000] On node 0 totalpages: 65536
[    0.000000] free_area_init_node: node 0, pgdat c05fb0d4, node_mem_map c0636000
[    0.000000]   Normal zone: 512 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 65024 pages, LIFO batch:15
[    0.000000] AM335X ES2.1 (sgx neon )
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 65024
[    0.000000] Kernel command line: console=ttyO0,115200 ip=192.168.1.8:</pre>

<p>*** skipped output ***
</p>
<pre class="screen">
 setting CAN BT = 0x209
[   12.992675] tda998x 1-0034: Error -121 writing to cec:0xff
[   13.000610] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   13.006805] dummy 1-0070: Error -121 reading from 0xa
[   13.012176] dummy 1-0070: Error -121 writing to 0xa
[   13.076690] dummy 1-0070: Error -121 reading from 0xa
[   13.096557] dummy 1-0070: Error -121 writing to 0xa
[   13.176544] dummy 1-0070: Error -121 reading from 0x1
[   13.196533] dummy 1-0070: Error -121 writing to 0x1
[   13.216522] dummy 1-0070: Error -121 reading from 0x1
[   13.236541] dummy 1-0070: Error -121 writing to 0x1
[   13.256591] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   13.276519] dummy 1-0070: Error -121 writing to 0x201
[   13.296539] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   13.303070] dummy 1-0070: Error -121 writing to 0x27
[   13.309478] dummy 1-0070: Error -121 reading from 0x0
[   13.315307] dummy 1-0070: Error -121 reading from 0x2
[   13.320648] found unsupported device: 0000
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
mount</pre>

<pre class="screen">
rootfs on / type rootfs (rw)
ubi0:root on / type ubifs (rw,relatime)
devtmpfs on /dev type devtmpfs (rw,relatime,size=126744k,nr_inodes=31686,mode=755)
none on /proc type proc (rw,relatime)
none on /tmp type tmpfs (rw,relatime)
none on /sys type sysfs (rw,relatime)
usbfs on /proc/bus/usb type usbfs (rw,relatime,devgid=14,devmode=660)
none on /run type tmpfs (rw,relatime,mode=755)
none on /var/log type tmpfs (rw,relatime,mode=755)
none on /var/run type tmpfs (rw,relatime,mode=755)
none on /var/lock type tmpfs (rw,relatime,mode=755)
none on /var/tmp type tmpfs (rw,relatime)
devpts on /dev/pts type devpts (rw,relatime,mode=600)
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/cpuinfo</pre>

<pre class="screen">
Processor	: ARMv7 Processor rev 2 (v7l)
BogoMIPS	: 298.80
Features	: swp half thumb fastmult vfp edsp thumbee neon vfpv3 tls 
CPU implementer	: 0x41
CPU architecture: 7
CPU variant	: 0x3
CPU part	: 0xc08
CPU revision	: 2

Hardware	: pcm051
Revision	: 0000
Serial		: 0000000000000000
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/meminfo</pre>

<pre class="screen">
MemTotal:         253728 kB
MemFree:          213404 kB
Buffers:               0 kB
Cached:            10156 kB
SwapCached:            0 kB
Active:            19080 kB
Inactive:           7268 kB
Active(anon):      16228 kB
Inactive(anon):      196 kB
Active(file):       2852 kB
Inactive(file):     7072 kB
Unevictable:           0 kB
Mlocked:               0 kB
HighTotal:             0 kB
HighFree:              0 kB
LowTotal:         253728 kB
LowFree:          213404 kB
SwapTotal:             0 kB
SwapFree:              0 kB
Dirty:                12 kB
Writeback:             0 kB
AnonPages:         16220 kB
Mapped:             7028 kB
Shmem:               232 kB
Slab:               4796 kB
SReclaimable:       1572 kB
SUnreclaim:         3224 kB
KernelStack:         496 kB
PageTables:          360 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:      126864 kB
Committed_AS:      21372 kB
VmallocTotal:     761856 kB
VmallocUsed:       10176 kB
VmallocChunk:     673772 kB
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/interrupts</pre>

<pre class="screen">
           CPU0       
  4:          1      INTC  omap2_elm
 12:        186      INTC  edma
 14:          0      INTC  edma_error
 18:          0      INTC  musb-hdrc.0
 19:          1      INTC  musb-hdrc.1
 36:       1065      INTC  da8xx_lcdc
 40:          0      INTC  cpsw
 43:          0      INTC  cpsw
 55:          0      INTC  can0
 56:          0      INTC  can0
 64:        576      INTC  mmc0
 68:       3762      INTC  gp timer
 70:        354      INTC  omap_i2c
 72:       1548      INTC  OMAP UART0
 93:          7      INTC  cpsw
 94:          0      INTC  cpsw
166:          0      GPIO  mmc0
Err:          0
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
ifconfig</pre>

<pre class="screen">
can0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  
          inet addr:127.42.23.180  Mask:255.255.255.0
          UP RUNNING NOARP  MTU:16  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:55 

eth0      Link encap:Ethernet  HWaddr D0:FF:50:2F:54:6D  
          inet addr:192.168.1.8  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:7 errors:0 dropped:6 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:448 (448.0 B)  TX bytes:0 (0.0 B)

eth1      Link encap:Ethernet  HWaddr D0:FF:50:2F:54:6F  
          inet addr:192.168.4.11  Bcast:0.0.0.0  Mask:255.255.255.0
          UP BROADCAST ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
reboot</pre>

<pre class="screen">
root@phyBOARD-WEGA-AM335x:~ starting pid 778, tty '': '/bin/umount -a -r'
umount: can't remount none read-only
umount: can't remount none read-only
umount: can't remount none read-only
umount: can't remount none read-only
umount: none busy - remounted read-only
umount: devtmpfs busy - remounted read-only
The system is going down NOW!
Sent SIGTERM to all processes
Sent SIGKILL to[   19.308471] musb-hdrc musb-hdrc.1: remove, state 1
[   19.313568] usb usb1: USB disconnect, device number 1
[   19.320281] musb-hdrc musb-hdrc.1: USB bus 1 deregistered
[   19.326629] Restarting system.


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from NAND


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
running /env/bin/init...

Hit m for menu or any other key to stop autoboot:  3</pre>

<pre class="code">
</pre>

<pre class="screen">

type exit to get to the menu
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>
</div>
<div>
<h2 class="title">11.  Prepare loading kernel via TFTP, mounting rootfs via NFS</h2>

<p>copy kernel image for boot_tftp_nfs into images folder</p>
<pre class="code">
make kernel_boot_tftp_nfs --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
make: Nothing to be done for `kernel_boot_tftp_nfs'.
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Copy kernel from images into tftp folder</p>
<pre class="code">
make tftpboot_kernel --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
make: Nothing to be done for `tftpboot_kernel'.
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Copy RootFS Archive of boot_tftp_nfs into images</p>
<pre class="code">
make cp_image_boot_tftp_nfs --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
make: Nothing to be done for `cp_image_boot_tftp_nfs'.
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Create root file system, which can be mounted via NFS. </p>
<pre class="code">
make create_rootfs_boot_tftp_nfs --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1 &amp;&amp; \
sudo tar xzf /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/images/phyBOARD-WEGA-20141113-1/boot_tftp_nfs/root-phyBOARD-WEGA.tar.gz
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Setup NFS, add rootfs to /etc/exports</p>
<pre class="code">
make export_rootfs --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
if grep -q "/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1" /etc/exports ; then  \
	true; \
else \
	sudo sed -i '$ a\/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1  192.168.1.255/24(rw,no_root_squash,async,subtree_check)\' /etc/exports; \
fi
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>exportfs -r</p>
<pre class="code">
make export_refresh --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
sudo exportfs -r
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>remove fingerprint in .ssh/known_hosts</p>
<pre class="code">
make ssh_fingerprint --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
Fingerprint of 192.168.1.8 has been removed
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Adjust nfsroot in env/config</p>
<pre class="code">
make tftpboot_config --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
In /tftpboot/phyBOARD-WEGA/env/bin/net-03 new value nfsroot="/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1"
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>show command for netconsole</p>
<pre class="code">
make netconsole --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'

# Use the script netconsole to connect to the target
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/barebox-2013.07.0/scripts/netconsole 192.168.1.8

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>
</div>
<div>
<h2 class="title">12.  Boot from NAND, load kernel via TFTP, mount rootfs via NFS</h2>

<pre class="screen">

barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from NAND


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
running /env/bin/init...

Hit m for menu or any other key to stop autoboot:  3</pre>

<pre class="code">
</pre>

<pre class="screen">

type exit to get to the menu
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<pre class="code">
cat /env/boot/net-02</pre>

<pre class="screen">
#!/bin/sh

if [ "$1" = menu ]; then
	boot-menu-add-entry "$0" "network script (tftp, nfs), execute remote script"
	exit
fi

path="/mnt/tftp"

echo "execute remote script ${path}/${global.hostname}/env/bin/net-03"


echo "############### start contents of file net-03 ################"
cat ${path}/${global.hostname}/env/bin/net-03
echo "############### end contents of file net-03 ###############"

. ${path}/${global.hostname}/env/bin/net-03


(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>

<p>Load kernel via TFTP and mount rootfs via NFS</p>
<pre class="code">
boot net-02</pre>

<pre class="screen">
boot net-02
booting net-02...
execute remote script /mnt/tftp/phyBOARD-WEGA/env/bin/net-03
############### start contents of file net-03 ################
100Mbps full duplex link detected
#!/bin/sh

path="/mnt/tftp"

#echo
#echo "copy ${path}/${global.hostname}/env/video/display to /env/video/display"
#cp ${path}/${global.hostname}/env/video/display /env/video/display

global.bootm.image="${path}/uImage-${global.hostname}"

# define nfsroot
nfsroot="/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1"

. /env/bin/bootargs-ip
. /env/bin/bootargs-display


global.linux.bootargs.dyn.root="root=/dev/nfs nfsroot=$serverip:$nfsroot,v3,tcp rootwait"

echo "global.linux.bootargs.dyn.root=$global.linux.bootargs.dyn.root"
echo
############### end contents of file net-03 ###############
global.linux.bootargs.dyn.root=root=/dev/nfs nfsroot=192.168.1.32:/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1,v3,tcp rootwait

   Image Name:   Linux-3.2.0-PD13.0.0
   OS:           Linux
   Architecture: ARM
   Type:         Kernel Image
   Compression:  uncompressed
   Data Size:    3091896 Bytes = 2.9 MiB
   Load Address: 80008000
   Entry Point:  80008000

Loading OS U-Boot uImage '/mnt/tftp/uImage-phyBOARD-WEGA'
commandline: console=ttyO0,115200 ip=192.168.1.8:192.168.1.32:192.168.1.1:255.255.255.0::eth0: root=/dev/nfs nfsroot=192.168.1.32:/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1,v3,tcp rootwait da8xx_fb.panel_name=DVI_XGA mtdparts=omap2-nand.0:128k(nand0.xload),128k(nand0.xload_backup1),128k(nand0.xload_backup2),128k(nand0.xload_backup3),512k(nand0.barebox)ro,128k(nand0.bareboxenv),8M(nand0.kernel),-(nand0.root)
arch_number: 4144
Uncompressing Linux... done, booting the kernel.
[    0.000000] Linux version 3.2.0-PD13.0.0 (jan@gauss) (gcc version 4.7.3 20121106 (prerelease) (OSELAS.Toolchain-2012.12.1 linaro-4.7-2012.11) ) #1 Thu Nov 13 13:30:26 CET 2014
[    0.000000] CPU: ARMv7 Processor [413fc082] revision 2 (ARMv7), cr=10c53c7d
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] Machine: pcm051
[    0.000000] Memory policy: ECC disabled, Data cache writeback
[    0.000000] AM335X ES2.1 (sgx neon )
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 65024
[    0.000000] Kernel command line: console=ttyO0,115200 ip=192.168.1.8:192.168.1.32:192.168.1.1:255.255.255.0::eth0: root=/dev/nfs nfsroot=192.168.1.32:/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1,v3,tcp rootwait da8xx_fb.panel_name=DVI_XGA mtdparts=omap2-nand.0:128k(nand0.xload),128k(nand0.xload_backup1),128k(nand0.xload_backup2),128k(nand0.xload_backup3),512k(nand0.barebox)ro,128k(nand0.bareboxenv),8M(nand0.kernel),-(nand0.root)
[    0.000000] PID hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000000] Dentry cache hash table entries: 32768 (order: 5, 131072 bytes)
[    0.000000] Inode-cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Memory: 256MB = 256MB total
[    0.000000] Memory: 253492k/253492k available, 8652k reserved, 0K highmem
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xfff00000 - 0xfffe0000   ( 896 kB)
[    0.000000]     vmalloc : 0xd0800000 - 0xff000000   ( 744 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xd0000000   ( 256 MB)
[    0.000000]     pkmap   : 0xbfe00000 - 0xc0000000   (   2 MB)
[    0.000000]     modules : 0xbf000000 - 0xbfe00000   (  14 MB)
[    0.000000]       .text : 0xc0008000 - 0xc0568000   (5504 kB)
[    0.000000]       .init : 0xc0568000 - 0xc05a3000   ( 236 kB)
[    0.000000]       .data : 0xc05a4000 - 0xc0603f60   ( 384 kB)
[    0.000000]        .bss : 0xc0603f84 - 0xc06353a4   ( 198 kB)
[    0.000000] NR_IRQS:396
[    0.000000] IRQ: Found an INTC at 0xfa200000 (revision 5.0) with 128 interrupts
[    0.000000] Total of 128 interrupts on 1 active controller
[    0.000000] OMAP clockevent source: GPTIMER2 at 25000000 Hz
[    0.000000] OMAP clocksource: GPTIMER1 at 32768 Hz
[    0.000000] sched_clock: 32 bits at 32kHz, resolution 30517ns, wraps every 131071999ms
[    0.000000] Console: colour dummy device 80x30
[    0.000152] Calibrating delay loop... 597.60 BogoMIPS (lpj=2988032)
[    0.058197] pid_max: default: 32768 minimum: 301
[    0.058349] Security Framework initialized
[    0.058471] Mount-cache hash table entries: 512
[    0.058868] CPU: Testing write buffer coherency: ok
[    0.059692] devtmpfs: initialized
[    0.079772] omap_hwmod: pruss: failed to hardreset
[    0.080963] print_constraints: dummy: 
[    0.081390] NET: Registered protocol family 16
[    0.083709] OMAP GPIO hardware version 0.1
[    0.086669] omap_mux_init: Add partition: #1: core, flags: 0
[    0.089813]  omap_hsmmc.0: alias fck already exists
[    0.091278]  d_can.1: alias fck already exists
[    0.092132]  da8xx_lcdc.0: alias fck already exists
[    0.092407]  omap_i2c.1: alias fck already exists
[    0.092926]  omap2_mcspi.1: alias fck already exists
[    0.093170]  omap2_mcspi.2: alias fck already exists
[    0.093444]  edma.0: alias fck already exists
[    0.093475]  edma.0: alias fck already exists
[    0.093505]  edma.0: alias fck already exists
[    0.117218] bio: create slab &lt;bio-0> at 0
[    0.119476] SCSI subsystem initialized
[    0.121276] usbcore: registered new interface driver usbfs
[    0.121612] usbcore: registered new interface driver hub
[    0.121826] usbcore: registered new device driver usb
[    0.121978] musb-ti81xx musb-ti81xx: musb0, board_mode=0x13, plat_mode=0x3
[    0.122283] musb-ti81xx musb-ti81xx: musb1, board_mode=0x13, plat_mode=0x1
[    0.137542] omap_i2c omap_i2c.1: bus 1 rev2.4.0 at 100 kHz
[    0.138580] tps65910 1-002d: JTAGREVNUM 0x1
[    0.141723] print_constraints: VRTC: 
[    0.143188] print_constraints: VIO: at 1500 mV 
[    0.145507] print_constraints: VDD1: 600 &lt;--> 1500 mV at 1100 mV normal 
[    0.147827] print_constraints: VDD2: at 1100 mV 
[    0.148864] print_constraints: VDD3: 5000 mV 
[    0.150299] print_constraints: VDIG1: at 1800 mV 
[    0.151763] print_constraints: VDIG2: at 1800 mV 
[    0.153198] print_constraints: VPLL: at 1800 mV 
[    0.154632] print_constraints: VDAC: at 1800 mV 
[    0.156097] print_constraints: VAUX1: at 1800 mV 
[    0.157531] print_constraints: VAUX2: at 3300 mV 
[    0.158996] print_constraints: VAUX33: at 3300 mV 
[    0.160430] print_constraints: VMMC: at 3300 mV 
[    0.160766] tps65910 1-002d: No interrupt support, no core IRQ
[    0.163909] cfg80211: Calling CRDA to update world regulatory domain
[    0.165191] Switching to clocksource gp timer
[    0.186096] musb-hdrc: version 6.0, ?dma?, otg (peripheral+host)
[    0.186309] musb-hdrc musb-hdrc.0: dma type: pio
[    0.186676] MUSB0 controller's USBSS revision = 4ea20800
[    0.186676] musb0: Enabled SW babble control
[    0.187377] musb-hdrc musb-hdrc.0: USB OTG mode controller at d083c000 using PIO, IRQ 18
[    0.187530] musb-hdrc musb-hdrc.1: dma type: pio
[    0.187866] MUSB1 controller's USBSS revision = 4ea20800
[    0.187866] musb1: Enabled SW babble control
[    0.188018] musb-hdrc musb-hdrc.1: MUSB HDRC host driver
[    0.188079] musb-hdrc musb-hdrc.1: new USB bus registered, assigned bus number 1
[    0.188232] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002
[    0.188262] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[    0.188262] usb usb1: Product: MUSB HDRC host driver
[    0.188262] usb usb1: Manufacturer: Linux 3.2.0-PD13.0.0 musb-hcd
[    0.188293] usb usb1: SerialNumber: musb-hdrc.1
[    0.189270] hub 1-0:1.0: USB hub found
[    0.189300] hub 1-0:1.0: 1 port detected
[    0.189941] musb-hdrc musb-hdrc.1: USB Host mode controller at d083e800 using PIO, IRQ 19
[    0.190429] NET: Registered protocol family 2
[    0.190643] IP route cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.190948] TCP established hash table entries: 8192 (order: 4, 65536 bytes)
[    0.191131] TCP bind hash table entries: 8192 (order: 3, 32768 bytes)
[    0.191253] TCP: Hash tables configured (established 8192 bind 8192)
[    0.191253] TCP reno registered
[    0.191284] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.191314] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.191528] NET: Registered protocol family 1
[    0.191833] RPC: Registered named UNIX socket transport module.
[    0.191833] RPC: Registered udp transport module.
[    0.191864] RPC: Registered tcp transport module.
[    0.191864] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.192108] NetWinder Floating Point Emulator V0.97 (double precision)
[    0.192321] omap-gpmc omap-gpmc: GPMC revision 6.0
[    0.192352] Registering NAND on CS0
[    0.204681] VFS: Disk quotas dquot_6.5.2
[    0.204772] Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
[    0.205444] JFFS2 version 2.2. (NAND) (SUMMARY)   2001-2006 Red Hat, Inc.
[    0.205780] msgmni has been set to 495
[    0.206634] io scheduler noop registered
[    0.206634] io scheduler deadline registered
[    0.206695] io scheduler cfq registered (default)
[    0.208496] da8xx_lcdc da8xx_lcdc.0: GLCD: Found DVI_XGA panel
[    0.240264] Console: switching to colour frame buffer device 128x48
[    0.258758] Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled
[    0.260742] omap_uart.0: ttyO0 at MMIO 0x44e09000 (irq = 72) is a OMAP UART0
[    0.973297] console [ttyO0] enabled
[    0.977691] omap_uart.1: ttyO1 at MMIO 0x48022000 (irq = 73) is a OMAP UART1
[    0.985534] omap_uart.2: ttyO2 at MMIO 0x48024000 (irq = 74) is a OMAP UART2
[    0.993377] omap_uart.3: ttyO3 at MMIO 0x481a6000 (irq = 44) is a OMAP UART3
[    1.001220] omap_uart.4: ttyO4 at MMIO 0x481a8000 (irq = 45) is a OMAP UART4
[    1.009063] omap_uart.5: ttyO5 at MMIO 0x481aa000 (irq = 46) is a OMAP UART5
[    1.028289] brd: module loaded
[    1.037689] loop: module loaded
[    1.041137] i2c-core: driver [tsl2550] using legacy suspend method
[    1.047637] i2c-core: driver [tsl2550] using legacy resume method
[    1.054046] at24 1-0052: 4096 byte 24c32 EEPROM, writable, 32 bytes/write
[    1.063751] omap2-nand driver initializing
[    1.068420] ONFI flash detected
[    1.071777] ONFI param page 0 valid
[    1.075408] NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4)
[    1.083862] 8 cmdlinepart partitions found on MTD device omap2-nand.0
[    1.090576] Creating 8 MTD partitions on "omap2-nand.0":
[    1.096130] 0x000000000000-0x000000020000 : "nand0.xload"
[    1.103637] 0x000000020000-0x000000040000 : "nand0.xload_backup1"
[    1.111663] 0x000000040000-0x000000060000 : "nand0.xload_backup2"
[    1.119689] 0x000000060000-0x000000080000 : "nand0.xload_backup3"
[    1.127716] 0x000000080000-0x000000100000 : "nand0.barebox"
[    1.135559] 0x000000100000-0x000000120000 : "nand0.bareboxenv"
[    1.143432] 0x000000120000-0x000000920000 : "nand0.kernel"
[    1.157409] 0x000000920000-0x000008000000 : "nand0.root"
[    1.264038] OneNAND driver initializing
[    1.269775] CAN device driver interface
[    1.273773] CAN bus driver for Bosch D_CAN controller 1.0
[    1.280364] d_can d_can.1: device registered (irq=55, irq_obj=56)
[    1.335815] davinci_mdio davinci_mdio.0: davinci mdio revision 1.6
[    1.342285] davinci_mdio davinci_mdio.0: detected phy mask fffffffc
[    1.350189] davinci_mdio.0: probed
[    1.353759] davinci_mdio davinci_mdio.0: phy[0]: device 0:00, driver SMSC LAN8710/LAN8720
[    1.362304] davinci_mdio davinci_mdio.0: phy[1]: device 0:01, driver SMSC LAN8710/LAN8720
[    1.371307] usbcore: registered new interface driver cdc_ether
[    1.377624] usbcore: registered new interface driver cdc_subset
[    1.383819] Initializing USB Mass Storage driver...
[    1.389190] usbcore: registered new interface driver usb-storage
[    1.395446] USB Mass Storage support registered.
[    1.400726] usbcore: registered new interface driver usbserial
[    1.406829] usbserial: USB Serial Driver core
[    1.412048] mousedev: PS/2 mouse device common for all mice
[    1.418487] rtc-m41t80 1-0068: chip found, driver version 0.05
[    1.426177] rtc-m41t80 1-0068: rtc core: registered rv4162c7 as rtc0
[    1.434326] i2c /dev entries driver
[    1.438812] lirc_dev: IR Remote Control driver registered, major 252 
[    1.445526] IR NEC protocol handler initialized
[    1.450286] IR RC5(x) protocol handler initialized
[    1.455261] IR RC6 protocol handler initialized
[    1.459991] IR JVC protocol handler initialized
[    1.464721] IR Sony protocol handler initialized
[    1.469543] IR RC5 (streamzap) protocol handler initialized
[    1.475341] IR MCE Keyboard/mouse protocol handler initialized
[    1.481445] IR LIRC bridge handler initialized
[    1.486083] Linux video capture interface: v2.00
[    1.491271] usbcore: registered new interface driver uvcvideo
[    1.497283] USB Video Class driver (1.1.1)
[    1.503875] OMAP Watchdog Timer Rev 0x01: initial timeout 60 sec
[    1.512603] cpuidle: using governor ladder
[    1.517486] cpuidle: using governor menu
[    1.527191] usbcore: registered new interface driver usbhid
[    1.533020] usbhid: USB HID core driver
[    1.537048] oprofile: hardware counters not available
[    1.542297] oprofile: using timer interrupt.
[    1.546783] nf_conntrack version 0.5.0 (3960 buckets, 15840 max)
[    1.553619] ip_tables: (C) 2000-2006 Netfilter Core Team
[    1.559326] TCP cubic registered
[    1.562683] NET: Registered protocol family 17
[    1.567352] can: controller area network core (rev 20090105 abi 8)
[    1.573913] NET: Registered protocol family 29
[    1.578582] can: raw protocol (rev 20090105)
[    1.583038] can: broadcast manager protocol (rev 20090105 t)
[    1.588989] Registering the dns_resolver key type
[    1.593994] VFP support v0.3: implementor 41 architecture 3 part 30 variant c rev 3
[    1.601989] ThumbEE CPU extension supported.
[    1.607299] Power Management for AM33XX family
[    1.619049] Detected MACID=d0:ff:50:2f:54:6d
[    1.624725] cpsw: Detected MACID = d0:ff:50:2f:54:6f
[    1.632263] rtc-m41t80 1-0068: setting system clock to 2055-10-01 13:31:12 UTC (2706010272)
[    1.645874] net eth0: CPSW phy found : id is : 0x7c0f1
[    1.696441] mmc0: host does not support reading read-only switch. assuming write-enable.
[    1.706787] mmc0: new high speed SDHC card at address b368
[    1.713226] mmcblk0: mmc0:b368 NCard 14.9 GiB 
[    1.719696]  mmcblk0: p1 p2
[    2.676666] IP-Config: Complete:
[    2.680084]      device=eth0, addr=192.168.1.8, mask=255.255.255.0, gw=192.168.1.1,
[    2.687927]      host=192.168.1.8, domain=, nis-domain=(none),
[    2.694030]      bootserver=192.168.1.32, rootserver=192.168.1.32, rootpath=
[    3.647216] PHY: 0:00 - Link is Up - 100/Full
[    3.811859] VFS: Mounted root (nfs filesystem) on device 0:15.
[    3.818756] devtmpfs: mounted
[    3.822692] Freeing init memory: 236K
init started: BusyBox v1.20.2 (2014-11-13 13:30:54 CET)
starting pid 609, tty '/dev/console': '/etc/init.d/rcS'
mounting filesystems...done.
running rc.d services...
starting udev
creating static nodes
starting udevd...done
[    4.474517] udevd[624]: starting version 182
waiting for devices...done
running rc.once.d services...
generating rsa key...done
generating dsa key...done
syslogd starting
klogd starting
crond starting
Starting system message bus: dbus.
hwclock: settimeofday: Invalid argument
starting sshd...done
Starting telnetd...
starting network interfaces...
lo        Link encap:Local Loopback  
eth0      Link encap:Ethernet  HWaddr D0:FF:50:2F:54:6D  
[   23.631286] net eth1: CPSW phy found : id is : 0x7c0f1
[   23.706939] d_can d_can.1: can0: setting CAN BT = 0x209
[   23.815704] tda998x 1-0034: Error -121 writing to cec:0xff
[   23.822540] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   23.828979] dummy 1-0070: Error -121 reading from 0xa
[   23.834564] dummy 1-0070: Error -121 writing to 0xa
[   23.896667] dummy 1-0070: Error -121 reading from 0xa
[   23.902038] dummy 1-0070: Error -121 writing to 0xa
[   23.967132] dummy 1-0070: Error -121 reading from 0x1
[   23.986450] dummy 1-0070: Error -121 writing to 0x1
[   23.992248] dummy 1-0070: Error -121 reading from 0x1
[   23.998229] dummy 1-0070: Error -121 writing to 0x1
[   24.003814] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   24.010162] dummy 1-0070: Error -121 writing to 0x201
[   24.015563] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   24.021667] dummy 1-0070: Error -121 writing to 0x27
[   24.027008] dummy 1-0070: Error -121 reading from 0x0
[   24.032409] dummy 1-0070: Error -121 reading from 0x2
[   24.037719] found unsupported device: 0000
/etc/rc.d/S60dvi_startup: line 34: can't create /sys/module/tda998x_drv/drivers/i2c:tda998x/1-0034//h_active: nonexistent directory
/etc/rc.d/S60dvi_startup: line 34: can't create /sys/module/tda998x_drv/drivers/i2c:tda998x/1-0034//v_active: nonexistent directory
/etc/rc.d/S60dvi_startup: line 34: can't create /sys/module/tda998x_drv/drivers/i2c:tda998x/1-0034//h_fporch: nonexistent directory
/etc/rc.d/S60dvi_startup: line 34: can't create /sys/module/tda998x_drv/drivers/i2c:tda998x/1-0034//h_bporch: nonexistent directory
/etc/rc.d/S60dvi_startup: line 34: can't create /sys/module/tda998x_drv/drivers/i2c:tda998x/1-0034//h_syncpw: nonexistent directory
/etc/rc.d/S60dvi_startup: line 34: can't create /sys/module/tda998x_drv/drivers/i2c:tda998x/1-0034//v_fporch: nonexistent directory
/etc/rc.d/S60dvi_startup: line 34: can't create /sys/module/tda998x_drv/drivers/i2c:tda998x/1-0034//v_bporch: nonexistent directory
/etc/rc.d/S60dvi_startup: line 34: can't create /sys/module/tda998x_drv/drivers/i2c:tda998x/1-0034//h_syncpw: nonexistent directory
/etc/rc.d/S60dvi_startup: line 34: can't create /sys/module/tda998x_drv/drivers/i2c:tda998x/1-0034//v_syncpw: nonexistent directory
lighttpd: starting
lighttpd: done
/usr/sbin/pure-ftpd
pure-ftpd: starting pure-ftpd: /usr/sbin/pure-ftpd
/usr/sbin/pure-uploadscript
pure-ftpd: starting upload helper daemon...
done
starting inetd...done
loading modules
starting pid 760, tty '/dev/console': '/sbin/getty -L 115200 ttyO0 vt100'
ts_open: No such file or directory

 ____  _   ___   _______ _____ ____ 
|  _ `| | | ` ` / /_   _| ____/ ___|
| |_) | |_| |` V /  | | |  _|| |    
|  __/|  _  | | |   | | | |__| |___ 
|_|   |_| |_| |_|   |_| |_____`____|

       _           ____   ___    _    ____  ____     __        _______ ____ 
 _ __ | |__  _   _| __ ) / _ `  / `  |  _ `|  _ `    ` `      / / ____/ ___|
| '_ `| '_ `| | | |  _ `| | | |/ _ ` | |_) | | | |____` ` /` / /|  _|| |  _ 
| |_) | | | | |_| | |_) | |_| / ___ `|  _ &lt;| |_| |_____` V  V / | |__| |_| |
| .__/|_| |_|`__, |____/ `___/_/   `_`_| `_`____/       `_/`_/  |_____`____|
|_|          |___/                                                          
    _           _    __  __ ______________      
   / `         / `  |  `/  |___ /___ / ___|_  __
  / _ ` _____ / _ ` | |`/| | |_ ` |_ `___ ` `/ /
 / ___ `_____/ ___ `| |  | |___) |__) |__) >  &lt; 
/_/   `_`   /_/   `_`_|  |_|____/____/____/_/`_`


OSELAS(R)-phyBOARD-WEGA-AM335x-PD13.0.0 / phyBOARD-WEGA-AM335x-PD13.0.0
ptxdist-2013.01.0/2014-11-13T13:32:57+0100

phyBOARD-WEGA-AM335x login: </pre>

<pre class="code">
root</pre>

<pre class="screen">
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
uname -a</pre>

<pre class="screen">
Linux phyBOARD-WEGA-AM335x 3.2.0-PD13.0.0 #1 Thu Nov 13 13:30:26 CET 2014 armv7l GNU/Linux
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/cmdline</pre>

<pre class="screen">
console=ttyO0,115200 ip=192.168.1.8:192.168.1.32:192.168.1.1:255.255.255.0::eth0: root=/dev/nfs nfsroot=192.168.1.32:/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1,v3,tcp rootwait da8xx_fb.panel_name=DVI_XGA mtdparts=omap2-nand.0:128k(nand0.xload),128k(nand0.xload_backup1),128k(nand0.xload_backup2),128k(nand0.xload_backup3),512k(nand0.barebox)ro,128k(nand0.bareboxenv),8M(nand0.kernel),-(nand0.root)
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
dmesg</pre>

<pre class="screen">
[    0.000000] Linux version 3.2.0-PD13.0.0 (jan@gauss) (gcc version 4.7.3 20121106 (prerelease) (OSELAS.Toolchain-2012.12.1 linaro-4.7-2012.11) ) #1 Thu Nov 13 13:30:26 CET 2014
[    0.000000] CPU: ARMv7 Processor [413fc082] revision 2 (ARMv7), cr=10c53c7d
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] Machine: pcm051
[    0.000000] Memory policy: ECC disabled, Data cache writeback
[    0.000000] On node 0 totalpages: 65536
[    0.000000] free_area_init_node: node 0, pgdat c05fb0d4, node_mem_map c0636000
[    0.000000]   Normal zone: 512 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 65024 pages, LIFO batch:15
[    0.000000] AM335X ES2.1 (sgx neon )
[    0.000000] pcpu-alloc: s0 r0 d32768 u32768 alloc=1*32768
[    0.000000] pcpu-alloc: [0] 0 
[    0.000000] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 65024
[    0.000000] Kernel command line: console=ttyO0,115200 ip=192.168.1.8:192.168.1.32:192.168.1.1:255.255.255.0::eth0: root=/dev/nfs nfsroot=192.168.1.32:/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1,v3,tcp rootwait da8xx_fb.panel_name=DVI_XGA mtdparts=omap2-nand.0:128k(nand0.xload),128k(nand0.xload_backup1),128k(nand0.xload_backup2),128k(nand0.xload_backup3),512k(nand0.barebox)ro,128k(nand0.bareboxenv),8M(nand0.kernel),-(nand0.root)
[    0.000000] PID hash table entries: 1024 (order: 0, 4096 bytes)
[    0.000000] Dentry cache hash table entries: 32768 (order: 5, 131072 bytes)
[    0.000000] Inode-cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Memory: 256MB = 256MB total
[    0.000000] Memory: 253492k/253492k available, 8652k reserved, 0K highmem
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xfff00000 - 0xfffe0000   ( 896 kB)
[    0.000000]     vmalloc : 0xd0800000 - 0xff000000   ( 744 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xd0000000   ( 256 MB)
[    0.000000]     pkmap   : 0xbfe00000 - 0xc0000000   (   2 MB)
[    0.000000]     modules : 0xbf000000 - 0xbfe00000   (  14 MB)
[    0.000000]       .text : 0xc0008000 - 0xc0568000   (5504 kB)
[    0.000000]       .init : 0xc0568000 - 0xc05a3000   ( 236 kB)
[    0.000000]       .data : 0xc05a4000 - 0xc0603f60   ( 384 kB)
[    0.000000]        .bss : 0xc0603f84 - 0xc06353a4   ( 198 kB)
[    0.000000] NR_IRQS:396
[    0.000000] IRQ: Found an INTC at 0xfa200000 (revision 5.0) with 128 interrupts
[    0.000000] Total of 128 interrupts on 1 active controller
[    0.000000] OMAP clockevent source: GPTIMER2 at 25000000 Hz
[    0.000000] OMAP clocksource: GPTIMER1 at 32768 Hz
[    0.000000] sched_clock: 32 bits at 32kHz, resolution 30517ns, wraps every 131071999ms
[    0.000000] Console: colour dummy device 80x30
[    0.000152] Calibrating delay loop... 597.60 BogoMIPS (lpj=2988032)
[    0.058197] pid_max: default: 32768 minimum: 301
[    0.058349] Security Framework initialized
[    0.058471] Mount-cache hash table entries: 512
[    0.058868] CPU: Testing write buffer coherency: ok
[    0.059692] devtmpfs: initialized
[    0.079772] omap_hwmod: pruss: failed to hardreset
[    0.080963] print_constraints: dummy: 
[    0.081390] NET: Registered protocol family 16
[    0.083709] OMAP GPIO hardware version 0.1
[    0.086669] omap_mux_init: Add partition: #1: core, flags: 0
[    0.089813]  omap_hsmmc.0: alias fck already exists
[    0.091278]  d_can.1: alias fck already exists
[    0.092132]  da8xx_lcdc.0: alias fck already exists
[    0.092407]  omap_i2c.1: alias fck already exists
[    0.092926]  omap2_mcspi.1: alias fck already exists
[    0.093170]  omap2_mcspi.2: alias fck already exists
[    0.093444]  edma.0: alias fck already exists
[    0.093475]  edma.0: alias fck already exists
[    0.093505]  edma.0: alias fck already exists
[    0.117218] bio: create slab &lt;bio-0> at 0
[    0.119476] SCSI subsystem initialized
[    0.121276] usbcore: registered new interface driver usbfs
[    0.121612] usbcore: registered new interface driver hub
[    0.121826] usbcore: registered new device driver usb
[    0.121978] musb-ti81xx musb-ti81xx: musb0, board_mode=0x13, plat_mode=0x3
[    0.122283] musb-ti81xx musb-ti81xx: musb1, board_mode=0x13, plat_mode=0x1
[    0.137542] omap_i2c omap_i2c.1: bus 1 rev2.4.0 at 100 kHz
[    0.138580] tps65910 1-002d: JTAGREVNUM 0x1
[    0.141723] print_constraints: VRTC: 
[    0.143188] print_constraints: VIO: at 1500 mV 
[    0.145507] print_constraints: VDD1: 600 &lt;--> 1500 mV at 1100 mV normal 
[    0.147827] print_constraints: VDD2: at 1100 mV 
[    0.148864] print_constraints: VDD3: 5000 mV 
[    0.150299] print_constraints: VDIG1: at 1800 mV 
[    0.151763] print_constraints: VDIG2: at 1800 mV 
[    0.153198] print_constraints: VPLL: at 1800 mV 
[    0.154632] print_constraints: VDAC: at 1800 mV 
[    0.156097] print_constraints: VAUX1: at 1800 mV 
[    0.157531] print_constraints: VAUX2: at 3300 mV 
[    0.158996] print_constraints: VAUX33: at 3300 mV 
[    0.160430] print_constraints: VMMC: at 3300 mV 
[    0.160766] tps65910 1-002d: No interrupt support, no core IRQ
[    0.163909] cfg80211: Calling CRDA to update world regulatory domain
[    0.165191] Switching to clocksource gp timer
[    0.186096] musb-hdrc: version 6.0, ?dma?, otg (peripheral+host)
[    0.186309] musb-hdrc musb-hdrc.0: dma type: pio
[    0.186676] MUSB0 controller's USBSS revision = 4ea20800
[    0.186676] musb0: Enabled SW babble control
[    0.186706] musb-hdrc: ConfigData=0xde (UTMI-8, dyn FIFOs, bulk combine, bulk split, HB-ISO Rx, HB-ISO Tx, SoftConn)
[    0.186737] musb-hdrc: MHDRC RTL version 2.0 
[    0.186737] musb-hdrc: setup fifo_mode 4
[    0.186767] musb-hdrc: 28/31 max ep, 16384/16384 memory
[    0.186798] musb-hdrc.0: bulk split disabled
[    0.186798] musb-hdrc.0: bulk combine disabled
[    0.187377] musb-hdrc musb-hdrc.0: USB OTG mode controller at d083c000 using PIO, IRQ 18
[    0.187530] musb-hdrc musb-hdrc.1: dma type: pio
[    0.187866] MUSB1 controller's USBSS revision = 4ea20800
[    0.187866] musb1: Enabled SW babble control
[    0.187896] musb-hdrc: ConfigData=0xde (UTMI-8, dyn FIFOs, bulk combine, bulk split, HB-ISO Rx, HB-ISO Tx, SoftConn)
[    0.187927] musb-hdrc: MHDRC RTL version 2.0 
[    0.187927] musb-hdrc: setup fifo_mode 4
[    0.187957] musb-hdrc: 28/31 max ep, 16384/16384 memory
[    0.187988] musb-hdrc.1: bulk split disabled
[    0.187988] musb-hdrc.1: bulk combine disabled
[    0.188018] musb-hdrc musb-hdrc.1: MUSB HDRC host driver
[    0.188079] musb-hdrc musb-hdrc.1: new USB bus registered, assigned bus number 1
[    0.188232] usb usb1: New USB device found, idVendor=1d6b, idProduct=0002
[    0.188262] usb usb1: New USB device strings: Mfr=3, Product=2, SerialNumber=1
[    0.188262] usb usb1: Product: MUSB HDRC host driver
[    0.188262] usb usb1: Manufacturer: Linux 3.2.0-PD13.0.0 musb-hcd
[    0.188293] usb usb1: SerialNumber: musb-hdrc.1
[    0.189270] hub 1-0:1.0: USB hub found
[    0.189300] hub 1-0:1.0: 1 port detected
[    0.189941] musb-hdrc musb-hdrc.1: USB Host mode controller at d083e800 using PIO, IRQ 19
[    0.190429] NET: Registered protocol family 2
[    0.190643] IP route cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.190948] TCP established hash table entries: 8192 (order: 4, 65536 bytes)
[    0.191131] TCP bind hash table entries: 8192 (order: 3, 32768 bytes)
[    0.191253] TCP: Hash tables configured (established 8192 bind 8192)
[    0.191253] TCP reno registered
[    0.191284] UDP hash table entries: 256 (order: 0, 4096 bytes)
[    0.191314] UDP-Lite hash table entries: 256 (order: 0, 4096 bytes)
[    0.191528] NET: Registered protocol family 1
[    0.191833] RPC: Registered named UNIX socket transport module.
[    0.191833] RPC: Registered udp transport module.
[    0.191864] RPC: Registered tcp transport module.
[    0.191864] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.192108] NetWinder Floating Point Emulator V0.97 (double precision)
[    0.192321] omap-gpmc omap-gpmc: GPMC revision 6.0
[    0.192352] Registering NAND on CS0
[    0.204681] VFS: Disk quotas dquot_6.5.2
[    0.204772] Dquot-cache hash table entries: 1024 (order 0, 4096 bytes)
[    0.205444] JFFS2 version 2.2. (NAND) (SUMMARY)   2001-2006 Red Hat, Inc.
[    0.205780] msgmni has been set to 495
[    0.206634] io scheduler noop registered
[    0.206634] io scheduler deadline registered
[    0.206695] io scheduler cfq registered (default)
[    0.208496] da8xx_lcdc da8xx_lcdc.0: GLCD: Found DVI_XGA panel
[    0.240264] Console: switching to colour frame buffer device 128x48
[    0.258758] Serial: 8250/16550 driver, 4 ports, IRQ sharing enabled
[    0.260742] omap_uart.0: ttyO0 at MMIO 0x44e09000 (irq = 72) is a OMAP UART0
[    0.973297] console [ttyO0] enabled
[    0.977691] omap_uart.1: ttyO1 at MMIO 0x48022000 (irq = 73) is a OMAP UART1
[    0.985534] omap_uart.2: ttyO2 at MMIO 0x48024000 (irq = 74) is a OMAP UART2
[    0.993377] omap_uart.3: ttyO3 at MMIO 0x481a6000 (irq = 44) is a OMAP UART3
[    1.001220] omap_uart.4: ttyO4 at MMIO 0x481a8000 (irq = 45) is a OMAP UART4
[    1.009063] omap_uart.5: ttyO5 at MMIO 0x481aa000 (irq = 46) is a OMAP UART5
[    1.028289] brd: module loaded
[    1.037689] loop: module loaded
[    1.041137] i2c-core: driver [tsl2550] using legacy suspend method
[    1.047637] i2c-core: driver [tsl2550] using legacy resume method
[    1.054046] at24 1-0052: 4096 byte 24c32 EEPROM, writable, 32 bytes/write
[    1.063751] omap2-nand driver initializing
[    1.068420] ONFI flash detected
[    1.071777] ONFI param page 0 valid
[    1.075408] NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4)
[    1.083862] 8 cmdlinepart partitions found on MTD device omap2-nand.0
[    1.090576] Creating 8 MTD partitions on "omap2-nand.0":
[    1.096130] 0x000000000000-0x000000020000 : "nand0.xload"
[    1.103637] 0x000000020000-0x000000040000 : "nand0.xload_backup1"
[    1.111663] 0x000000040000-0x000000060000 : "nand0.xload_backup2"
[    1.119689] 0x000000060000-0x000000080000 : "nand0.xload_backup3"
[    1.127716] 0x000000080000-0x000000100000 : "nand0.barebox"
[    1.135559] 0x000000100000-0x000000120000 : "nand0.bareboxenv"
[    1.143432] 0x000000120000-0x000000920000 : "nand0.kernel"
[    1.157409] 0x000000920000-0x000008000000 : "nand0.root"
[    1.264038] OneNAND driver initializing
[    1.269775] CAN device driver interface
[    1.273773] CAN bus driver for Bosch D_CAN controller 1.0
[    1.280364] d_can d_can.1: device registered (irq=55, irq_obj=56)
[    1.335815] davinci_mdio davinci_mdio.0: davinci mdio revision 1.6
[    1.342285] davinci_mdio davinci_mdio.0: detected phy mask fffffffc
[    1.350189] davinci_mdio.0: probed
[    1.353759] davinci_mdio davinci_mdio.0: phy[0]: device 0:00, driver SMSC LAN8710/LAN8720
[    1.362304] davinci_mdio davinci_mdio.0: phy[1]: device 0:01, driver SMSC LAN8710/LAN8720
[    1.371307] usbcore: registered new interface driver cdc_ether
[    1.377624] usbcore: registered new interface driver cdc_subset
[    1.383819] Initializing USB Mass Storage driver...
[    1.389190] usbcore: registered new interface driver usb-storage
[    1.395446] USB Mass Storage support registered.
[    1.400726] usbcore: registered new interface driver usbserial
[    1.406829] usbserial: USB Serial Driver core
[    1.412048] mousedev: PS/2 mouse device common for all mice
[    1.418487] rtc-m41t80 1-0068: chip found, driver version 0.05
[    1.426177] rtc-m41t80 1-0068: rtc core: registered rv4162c7 as rtc0
[    1.434326] i2c /dev entries driver
[    1.438812] lirc_dev: IR Remote Control driver registered, major 252 
[    1.445526] IR NEC protocol handler initialized
[    1.450286] IR RC5(x) protocol handler initialized
[    1.455261] IR RC6 protocol handler initialized
[    1.459991] IR JVC protocol handler initialized
[    1.464721] IR Sony protocol handler initialized
[    1.469543] IR RC5 (streamzap) protocol handler initialized
[    1.475341] IR MCE Keyboard/mouse protocol handler initialized
[    1.481445] IR LIRC bridge handler initialized
[    1.486083] Linux video capture interface: v2.00
[    1.491271] usbcore: registered new interface driver uvcvideo
[    1.497283] USB Video Class driver (1.1.1)
[    1.503875] OMAP Watchdog Timer Rev 0x01: initial timeout 60 sec
[    1.512603] cpuidle: using governor ladder
[    1.517486] cpuidle: using governor menu
[    1.524414] Registered led device: peb_eval_01:green:led3
[    1.527191] usbcore: registered new interface driver usbhid
[    1.533020] usbhid: USB HID core driver
[    1.537048] oprofile: hardware counters not available
[    1.542297] oprofile: using timer interrupt.
[    1.546783] nf_conntrack version 0.5.0 (3960 buckets, 15840 max)
[    1.553619] ip_tables: (C) 2000-2006 Netfilter Core Team
[    1.559326] TCP cubic registered
[    1.562683] NET: Registered protocol family 17
[    1.567352] can: controller area network core (rev 20090105 abi 8)
[    1.573913] NET: Registered protocol family 29
[    1.578582] can: raw protocol (rev 20090105)
[    1.583038] can: broadcast manager protocol (rev 20090105 t)
[    1.588989] Registering the dns_resolver key type
[    1.593994] VFP support v0.3: implementor 41 architecture 3 part 30 variant c rev 3
[    1.601989] ThumbEE CPU extension supported.
[    1.607299] Power Management for AM33XX family
[    1.619049] Detected MACID=d0:ff:50:2f:54:6d
[    1.624725] cpsw: Detected MACID = d0:ff:50:2f:54:6f
[    1.632263] rtc-m41t80 1-0068: setting system clock to 2055-10-01 13:31:12 UTC (2706010272)
[    1.645874] net eth0: CPSW phy found : id is : 0x7c0f1
[    1.696441] mmc0: host does not support reading read-only switch. assuming write-enable.
[    1.706787] mmc0: new high speed SDHC card at address b368
[    1.713226] mmcblk0: mmc0:b368 NCard 14.9 GiB 
[    1.719696]  mmcblk0: p1 p2
[    2.676666] IP-Config: Complete:
[    2.680084]      device=eth0, addr=192.168.1.8, mask=255.255.255.0, gw=192.168.1.1,
[    2.687927]      host=192.168.1.8, domain=, nis-domain=(none),
[    2.694030]      bootserver=192.168.1.32, rootserver=192.168.1.32, rootpath=
[    3.647216] PHY: 0:00 - Link is Up - 100/Full
[    3.811859] VFS: Mounted root (nfs filesystem) on device 0:15.
[    3.818756] devtmpfs: mounted
[    3.822692] Freeing init memory: 236K
>[    4.474517] udevd[624]: starting version 182
[   23.631286] net eth1: CPSW phy found : id is : 0x7c0f1
[   23.706939] d_can d_can.1: can0: setting CAN BT = 0x209
[   23.815704] tda998x 1-0034: Error -121 writing to cec:0xff
[   23.822540] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   23.828979] dummy 1-0070: Error -121 reading from 0xa
[   23.834564] dummy 1-0070: Error -121 writing to 0xa
[   23.896667] dummy 1-0070: Error -121 reading from 0xa
[   23.902038] dummy 1-0070: Error -121 writing to 0xa
[   23.967132] dummy 1-0070: Error -121 reading from 0x1
[   23.986450] dummy 1-0070: Error -121 writing to 0x1
[   23.992248] dummy 1-0070: Error -121 reading from 0x1
[   23.998229] dummy 1-0070: Error -121 writing to 0x1
[   24.003814] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   24.010162] dummy 1-0070: Error -121 writing to 0x201
[   24.015563] dummy 1-0070: Error -121 writing to REG_CURPAGE
[   24.021667] dummy 1-0070: Error -121 writing to 0x27
[   24.027008] dummy 1-0070: Error -121 reading from 0x0
[   24.032409] dummy 1-0070: Error -121 reading from 0x2
[   24.037719] found unsupported device: 0000
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
mount</pre>

<pre class="screen">
rootfs on / type rootfs (rw)
192.168.1.32:/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/rootfs/phyBOARD-WEGA-20141113-1/ on / type nfs (rw,relatime,vers=3,rsize=4096,wsize=4096,namlen=255,hard,nolock,proto=tcp,timeo=600,retrans=2,sec=sys,mountaddr=192.168.1.32,mountvers=3,mountproto=tcp,local_lock=all,addr=192.168.1.32)
devtmpfs on /dev type devtmpfs (rw,relatime,size=126744k,nr_inodes=31686,mode=755)
none on /proc type proc (rw,relatime)
none on /tmp type tmpfs (rw,relatime)
none on /sys type sysfs (rw,relatime)
usbfs on /proc/bus/usb type usbfs (rw,relatime,devgid=14,devmode=660)
none on /run type tmpfs (rw,relatime,mode=755)
none on /var/log type tmpfs (rw,relatime,mode=755)
none on /var/run type tmpfs (rw,relatime,mode=755)
none on /var/lock type tmpfs (rw,relatime,mode=755)
none on /var/tmp type tmpfs (rw,relatime)
devpts on /dev/pts type devpts (rw,relatime,mode=600)
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/cpuinfo</pre>

<pre class="screen">
Processor	: ARMv7 Processor rev 2 (v7l)
BogoMIPS	: 298.80
Features	: swp half thumb fastmult vfp edsp thumbee neon vfpv3 tls 
CPU implementer	: 0x41
CPU architecture: 7
CPU variant	: 0x3
CPU part	: 0xc08
CPU revision	: 2

Hardware	: pcm051
Revision	: 0000
Serial		: 0000000000000000
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/meminfo</pre>

<pre class="screen">
MemTotal:         253728 kB
MemFree:          207940 kB
Buffers:               0 kB
Cached:            16684 kB
SwapCached:            0 kB
Active:            19424 kB
Inactive:          13412 kB
Active(anon):      16184 kB
Inactive(anon):      200 kB
Active(file):       3240 kB
Inactive(file):    13212 kB
Unevictable:           0 kB
Mlocked:               0 kB
HighTotal:             0 kB
HighFree:              0 kB
LowTotal:         253728 kB
LowFree:          207940 kB
SwapTotal:             0 kB
SwapFree:              0 kB
Dirty:                 0 kB
Writeback:             0 kB
AnonPages:         16180 kB
Mapped:             6928 kB
Shmem:               232 kB
Slab:               4664 kB
SReclaimable:       1640 kB
SUnreclaim:         3024 kB
KernelStack:         480 kB
PageTables:          356 kB
NFS_Unstable:          0 kB
Bounce:                0 kB
WritebackTmp:          0 kB
CommitLimit:      126864 kB
Committed_AS:      21372 kB
VmallocTotal:     761856 kB
VmallocUsed:        9356 kB
VmallocChunk:     674628 kB
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
cat /proc/interrupts</pre>

<pre class="screen">
           CPU0       
  4:          0      INTC  omap2_elm
 12:        186      INTC  edma
 14:          0      INTC  edma_error
 18:          0      INTC  musb-hdrc.0
 19:          1      INTC  musb-hdrc.1
 36:       1785      INTC  da8xx_lcdc
 40:          0      INTC  cpsw
 43:          0      INTC  cpsw
 55:          0      INTC  can0
 56:          0      INTC  can0
 64:        576      INTC  mmc0
 68:       6246      INTC  gp timer
 70:        474      INTC  omap_i2c
 72:       1472      INTC  OMAP UART0
 93:      11479      INTC  cpsw
 94:      14615      INTC  cpsw
166:          0      GPIO  mmc0
Err:          0
root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
ifconfig</pre>

<pre class="screen">
can0      Link encap:UNSPEC  HWaddr 00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00  
          inet addr:127.42.23.180  Mask:255.255.255.0
          UP RUNNING NOARP  MTU:16  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:10 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)
          Interrupt:55 

eth0      Link encap:Ethernet  HWaddr D0:FF:50:2F:54:6D  
          inet addr:192.168.1.8  Bcast:192.168.1.255  Mask:255.255.255.0
          UP BROADCAST RUNNING ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:13792 errors:0 dropped:12 overruns:0 frame:0
          TX packets:10953 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:17900636 (17.0 MiB)  TX bytes:1466480 (1.3 MiB)

eth1      Link encap:Ethernet  HWaddr D0:FF:50:2F:54:6F  
          inet addr:192.168.4.11  Bcast:0.0.0.0  Mask:255.255.255.0
          UP BROADCAST ALLMULTI MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

root@phyBOARD-WEGA-AM335x:~ </pre>

<pre class="code">
reboot</pre>

<pre class="screen">
root@phyBOARD-WEGA-AM335x:~ starting pid 777, tty '': '/bin/umount -a -r'
umount: can't remount none read-only
umount: can't remount none read-only
umount: can't remount none read-only
umount: can't remount none read-only
umount: none busy - remounted read-only
umount: devtmpfs busy - remounted read-only
The system is going down NOW!
Sent SIGTERM to all processes
Sent SIGKILL to[   30.097473] musb-hdrc musb-hdrc.1: remove, state 1
[   30.102569] usb usb1: USB disconnect, device number 1
[   30.109283] musb-hdrc musb-hdrc.1: USB bus 1 deregistered
[   30.115539] Restarting system.


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA MLO #1 Thu Nov 13 13:24:04 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
booting from NAND


barebox 2013.11.0-PD13.0.0 phyBOARD-WEGA #1 Thu Nov 13 13:34:16 CET 2014


Board: Phytec phyBOARD-WEGA-AM335x
omap-hsmmc omap4-hsmmc0: registered as omap4-hsmmc0
mci0: registered disk0
cpsw cpsw0: detected phy mask 0x3
mdio_bus: miibus0: probed
eth0: got preset MAC address: D0:FF:50:2F:54:6D
i2c-omap i2c-am33xx0: bus 0 rev0.11 at 100 kHz
probe buswidth
nand: ONFI param page 0 valid
nand: ONFI flash detected
nand: NAND device: Manufacturer ID: 0x2c, Chip ID: 0xf1 (Micron MT29F1G08ABADAH4), 128MiB, page size: 2048, OOB size: 64
malloc space: 0x83ff4000 -> 0x87ff3fff (size 64 MiB)
running /env/bin/init...

Hit m for menu or any other key to stop autoboot:  3</pre>

<pre class="code">
</pre>

<pre class="screen">

type exit to get to the menu
(0x1b)[1;32mbarebox@(0x1b)[1;36mPhytec phyBOARD-WEGA-AM335x:/(0x1b)[0m </pre>
</div>
<div>
<h2 class="title">13.  Develop BSP Software</h2>

<p>Usage of ptxdist</p>
<pre class="code">
make bsp_ptxdist --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'

# Usage of ptxdist for bsp:

# You can call ptxdist directly. It is VERY IMPORTANT, that you are in the correct directory.

# Call it without argument to show some help text.
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0

# Open menu:
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 menu

# Configure the software platform:
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 menuconfig

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Create environment for BSP development</p>
<pre class="code">
make rm_setup_env_git_bsp_work setup_env_git_bsp_work --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
if [ -e /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/setup_env_git_bsp_work ]; then rm /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/setup_env_git_bsp_work; fi

# Environment setup file /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/setup-env for bsp has been created
# Look at the contents of the file
cat /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/setup-env

# Open a NEW terminal window and use the setup-env script to define the environment for bsp. 
# The path to ptxdist will be setup. You can call just 'ptxdist'
# usage:

source /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/setup-env

# usage of ptxdist:

cd ${WORK_DIR}

ptxdist

# usage of git

cd ${WORK_DIR}

git status
git add
git commit -s

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Apply Patches</p>
<pre class="code">
make apply_patches_git_bsp_work --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# Apply existing patches, with series file
export MY_PATCH=/tmp/patches
nano ${MY_PATCH}/series
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ quiltimport --patches ${MY_PATCH} -n
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ branch -av
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ log
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ quiltimport --patches ${MY_PATCH} 

# Apply patches from other git-repositories
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ remote add test-git-01 /tmp/test.git
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ fetch test-git-01 master 
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ cherry-pick 56816e7e19cb6a64bf996272d6ff1

# Apply existing patches, WITHOUT series files
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ am my_patch_files
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>
</div>
<div>
<h2 class="title">14.  Develop Kernel Software</h2>

<p>Call menuconfig for kernel</p>
<pre class="code">
make -n bsp_kernelconfig --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 kernelconfig
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Create new repository of local repository of linux</p>
<pre class="code">
make -n create_new_git_linux_local --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
if [ ! -e  /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/git-PD/linux-3.2.git ] ; then \
	mkdir -p $(dirname /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/git-PD/linux-3.2.git) &amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/git-PD/linux-3.2.git init --bare; \
else \
	echo "Repository already exists: /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/git-PD/linux-3.2.git" ; \
fi
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state; touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/create_new_git_linux_local
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make create_new_git_linux_local --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
Initialized empty Git repository in /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/git-PD/linux-3.2.git/
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Create new repository of current linux with ptxdist --git extract kernel</p>
<pre class="code">
make -n rm_create_new_git_ptxdist_linux_work create_new_git_ptxdist_linux_work --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
if [ -e /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/create_new_git_ptxdist_linux_work ]; then rm /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/create_new_git_ptxdist_linux_work; fi
if [ ! -e  /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git ] ; then \
	mkdir -p $(dirname /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git) &amp;&amp; \
	echo -e "\nA temporary git repository is created by ptxdist --git extract\n" &amp;&amp; \
	cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
	/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 clean kernel &amp;&amp; \
	/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 --git extract kernel &amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ init&amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ remote add ptxdist /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.git&amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ fetch ptxdist &amp;&amp; \
	echo -e "\nThe temporary git repository is removed\n" &amp;&amp; \
	cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
	/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 clean kernel &amp;&amp; \
	/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 extract kernel &amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ reset --hard ptxdist/master &amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ remote remove ptxdist&amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ branch master &amp;&amp; \
	echo -e "\n/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git has been created which contains all the patches of linux\n" &amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ remote add origin /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/git-PD/linux-3.2.git&amp;&amp;  \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ push origin --tags master &amp;&amp;  \
	 true ; \
else \
	echo "Repository already exists: /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git" ; \
fi
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state; touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/create_new_git_ptxdist_linux_work
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<pre class="code">
make rm_create_new_git_ptxdist_linux_work create_new_git_ptxdist_linux_work --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
if [ -e /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/create_new_git_ptxdist_linux_work ]; then rm /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/create_new_git_ptxdist_linux_work; fi

A temporary git repository is created by ptxdist --git extract


--------------------
target: kernel.clean
--------------------

Deleting ipks:
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/packages/kernel-modules_3.2_arm.ipk

Deleting stage files:
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel-modules.cmds
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel-modules.license
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel-modules.perms
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.compile
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.extract
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.extract.post
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.get
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.install
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.install.pack
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.install.post
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.prepare
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.targetinstall
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.targetinstall.post
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.xpkg.map

Deleting src dir:
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2

Removing files from sysroot...

Deleting pkg dir:
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/packages/linux-3.2


------------------
target: kernel.get
------------------

finished target kernel.get

----------------------
target: kernel.extract
----------------------

extract: pkg_src=/mnt/d02/test-develop/distfiles/linux-3.2.tar.xz
extract: pkg_extract_dir=phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2
patchin: git: initializing repository
patchin: git: done

pkg_patch_dir:     'phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2'
pkg_patch_series:  'phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series'

patchin: git: apply 'phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series'
diff_3.2_to_AM335xPSP_04.06.00.11.patch
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.git/rebase-apply/patch:43634: trailing whitespace.
		vm->phys_addr = __pfn_to_phys(md->pfn); 
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.git/rebase-apply/patch:43635: trailing whitespace.
		vm->flags = VM_IOREMAP | VM_ARM_STATIC_MAPPING; 
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.git/rebase-apply/patch:47758: new blank line at EOF.
+
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.git/rebase-apply/patch:48316: new blank line at EOF.
+
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.git/rebase-apply/patch:48601: new blank line at EOF.
+
warning: squelched 1 whitespace error
warning: 6 lines add whitespace errors.
0001-USB-pl2303-fix-DTR-RTS-being-raised-on-baud-rate-cha.patch
0002-USB-pl2303-fix-abuse-of-interface-data.patch
0003-USB-pl2303-return-errors-from-usb_submit_urb-in-open.patch
0004-USB-pl2302-clean-up-error-handling-in-open.patch
0005-USB-pl2303-remove-unused-define.patch
0006-USB-pl2303-use-usb_serial_generic_open.patch
0007-phy-micrel-change-phy_id_mask-for-KSZ9021-and-KS8001.patch
0008-net-ipv4-ipconfig-decrease-CONF_CARRIER_TIMEOUT.patch
0009-Adding-board-support-for-PHYTEC-s-support-for-pcm051.patch
0010-Added-LCD-support-for-pcm051.patch
0011-Initial-PCM051-ethernet-support.patch
0012-pcm051-Modifications-to-setup-the-KSZ9021RN-gigabit-.patch
0013-rtc-m41t80-Fix-alarm-functionality.patch
0014-rtc-m41t80-Add-support-for-rv-4162-c7.patch
0015-pcm051-Add-RTC-support.patch
0016-pcm051-wlan-wl1271-on-off-modifications-and-pcm051-b.patch
0017-pcm051-bluetooth-Isolate-eth-PHYs-to-avoid-fighting-.patch
0018-pcm051-use-can1-instead-of-can0.patch
0019-pcm051-make-lcdc-platform-data-static.patch
0020-da8xx-provide-a-way-to-register-multiple-panels.patch
0021-da8xx-provide-module-paramter-to-select-panel.patch
0022-da8xx-adjust-height-of-PV_PD104SLF.patch
0023-da8xx-fb-Switch-default-display-order.patch
0024-da8xx-Fix-compiler-warnings.patch
0025-omap2-mux-don-t-try-to-convert-prcm-event-to-irq-on-.patch
0026-pcm051-fix-backlight-initialization.patch
0027-OMAP-NAND-Check-first-two-pages-for-bad-block-marker.patch
0028-OMAP-NAND-timing-violations.patch
0029-RTC-Add-support-for-the-RTC-in-the-TPS65910-PMIC.patch
0030-pwm-backlight-Set-correct-frequency.patch
0031-tps65910-rtc-Use-external-oszillator.patch
0032-pcm051-Add-pin-mux-for-user-BNTs.patch
0033-OMAP2-Fix-Kconfig-warning.patch
0034-PCAAXS1-Initial-board-support.patch
0035-PCAAXS1-I2C-BUS-0-and-BUS-1-support.patch
0036-PCAAXS1-PMIC-tps65910-and-PMIC-RTC-on-I2C-1-BUS-supp.patch
0037-PCAAXS1-NAND-flash-support.patch
0038-PCAAXS1-LCD-Display-support.patch
0039-PCAAXS1-STMPE-Touchscreen-support.patch
0040-PCAAXS1-USB-support.patch
0041-PCAAXS1-Ethernet-and-i2c-eeprom-support.patch
0042-PCAAXS1-LCD-Brightness-Control.patch
0043-OMAP-AM335x-Support-two-Phytec-AM335x-Board-in-one-k.patch
0044-PCAAXS1-Remove-unused-struct-from-board-code.patch
0045-eeprom-address-and-platformdata-correction.patch
0046-McASP-Prepare-pcm051-sound-support.patch
0047-wm8974-Enable-Mic-Bias-when-nessesary.patch
0048-ARM-pcm051-Add-sound-support.patch
0049-pcm051-uart2-and-uart3-mux-fixed.patch
0050-pcm051-removing-unused-pin-mux-function-mii1_init.patch
0051-ARM-OMAP2-Fix-compile-error-when-disabling-suspend-s.patch
0052-PFLA03-Initial-board-support.patch
0053-PFLA03-NAND-support.patch
0054-PFLA03-i2c0-support.patch
0055-PFLA03-PMIC-TPS65910A3-support.patch
0056-PFLA03-lcd-support.patch
0057-PFLA03-eeprom-24c32-support.patch
0058-PLFA03-user-led-pca9533-support.patch
0059-PFLA03-adc-max1037-support.patch
0060-PFLA03-rtc8564-support.patch
0061-PFLA03-Fix-probing-of-tps65910-rtc.patch
0062-PFLA03-Set-display-enable-as-output.patch
0063-ARM-Micrel-PHY-added-support-for-KSZ9031.patch
0064-PFLA03-ethernet-support-for-RMII2-and-RGMII1.patch
0065-PFLA03-USB-support.patch
0066-PFLA03-lcd-pwm-backlight-control-support.patch
0067-PFLA03-spi-nor-flash-support.patch
0068-PFLA03-uart1-mux-support.patch
0069-PFLA03-remove-clockout.patch
0070-PCAAXS1-Fix-USB-OTG-as-host-mode.patch
0071-PCAAXS1-RTC8564-Support.patch
0072-Input-add-driver-for-FT5x06-based-EDT-displays.patch
0073-Input-edt-ft5x06-fix-build-error-when-compiling-wtho.patch
0074-EDT-FT5x06-kernel-backport-adaptations.patch
0075-Fixed-index-of-display-array.patch
0076-AM335x-da8xx-fb-Add-ETD-ETM0700G0DH6-display-support.patch
0077-PCAAXS1-Add-support-for-LCD-018-ETM0700G0DH6.patch
0078-edt-ft5x06-Switch-back-to-old-style-init-and-exit-fu.patch
0079-PCAAXS1-Add-support-for-LCD-018-ETM0700G0DH6-touch.patch
0080-PCAAXS1-Enable-Disable-LVDS-transceiver.patch
0081-modpost-Permit-.GCC.command.line-sections.patch
0082-PCM051-Add-support-for-LCD-018-ETM0700G0DH6-touch-lc.patch
0083-PLFA03-Add-enable-function-for-ecap2.patch
0084-PCM051-Small-cleanup-of-the-backlight-code.patch
0085-TPS65910-Use-external-oscillator-if-RTC-is-used.patch
0086-Added-AM335x-internal-RTC-initialization-function.patch
0087-PCM051-am335x-internal-rtc-support.patch
0088-rtc-m41t80-Use-alarm-functionality-only-when-irq-ava.patch
0089-PCM051-Remove-hardcoded-array-index-of-rtc-irq.patch
0090-PCM051-Remove-muxing-of-tsc-pins.patch
0091-net-phy-micrel-Disable-asymmetric-pause-for-KSZ9021.patch
0092-mtd-support-ONFI-multi-lun-NAND.patch
0093-phyBOARD-WEGA-AM335x-Basic-support.patch
0094-phyBOARD-WEGA-AM335x-Add-ethernet-support.patch
0095-phyBOARD-WEGA-AM335x-Add-USB-support.patch
0096-phyBOARD-WEGA-AM335x-Add-CAN-support.patch
0097-phyBOARD-WEGA-Add-support-for-PEB-EVAL-01.patch
0098-Revert-video-da8xx-fb-add-fb_set_par-support.patch
0099-driver-video-Added-support-for-tda998x.patch
0100-phyBOARD-WEGA-AM335x-Add-support-for-PEB-AV-01.patch
0101-phyBOARD-AM335x-WEGA-Remove-PMIC-IRQ.patch
patchin: git: done

finished target kernel.extract
Initialized empty Git repository in /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git/
From /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/
 * [new branch]      master     -> ptxdist/master
From /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/
 * [new tag]         base       -> base
 * [new tag]         linux-3.2  -> linux-3.2

The temporary git repository is removed


--------------------
target: kernel.clean
--------------------

Deleting stage files:
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.extract
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/state/kernel.get

Deleting src dir:
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2


------------------
target: kernel.get
------------------

finished target kernel.get

----------------------
target: kernel.extract
----------------------

extract: pkg_src=/mnt/d02/test-develop/distfiles/linux-3.2.tar.xz
extract: pkg_extract_dir=phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2

pkg_patch_dir:     'phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2'
pkg_patch_series:  'phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series'

patchin: quilt: apply 'phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series'
Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/diff_3.2_to_AM335xPSP_04.06.00.11.patch
patching file Documentation/arm/memory.txt
patching file Documentation/devicetree/bindings/arm/gic.txt
patching file Documentation/devicetree/bindings/arm/vic.txt
patching file Documentation/devicetree/bindings/serial/omap_serial.txt
patching file Documentation/feature-removal-schedule.txt
patching file Documentation/kernel-parameters.txt
patching file Documentation/pwm.txt
patching file arch/arm/Kconfig
patching file arch/arm/Kconfig.debug
patching file arch/arm/boot/dts/omap2.dtsi
patching file arch/arm/boot/dts/omap3-beagle.dts
patching file arch/arm/boot/dts/omap3.dtsi
patching file arch/arm/boot/dts/omap4-panda.dts
patching file arch/arm/boot/dts/omap4-sdp.dts
patching file arch/arm/boot/dts/omap4.dtsi
patching file arch/arm/common/Kconfig
patching file arch/arm/common/Makefile
patching file arch/arm/common/edma.c
patching file arch/arm/common/gic.c
patching file arch/arm/common/vic.c
patching file arch/arm/configs/am335x_evm_defconfig
patching file arch/arm/configs/omap1_defconfig
patching file arch/arm/configs/omap2plus_defconfig
patching file arch/arm/include/asm/cti.h
patching file arch/arm/include/asm/entry-macro-vic2.S
patching file arch/arm/include/asm/hardware/asp.h
patching file arch/arm/include/asm/hardware/entry-macro-gic.S
patching file arch/arm/include/asm/hardware/gic.h
patching file arch/arm/include/asm/hardware/vic.h
patching file arch/arm/include/asm/mach/arch.h
patching file arch/arm/include/asm/perf_event.h
patching file arch/arm/include/asm/pgtable.h
patching file arch/arm/include/asm/pmu.h
patching file arch/arm/include/asm/system.h
patching file arch/arm/kernel/entry-armv.S
patching file arch/arm/kernel/machine_kexec.c
patching file arch/arm/kernel/perf_event.c
patching file arch/arm/kernel/perf_event_v6.c
patching file arch/arm/kernel/perf_event_v7.c
patching file arch/arm/kernel/perf_event_xscale.c
patching file arch/arm/kernel/process.c
patching file arch/arm/kernel/setup.c
patching file arch/arm/kernel/time.c
patching file arch/arm/mach-at91/include/mach/io.h
patching file arch/arm/mach-at91/include/mach/vmalloc.h
patching file arch/arm/mach-at91/setup.c
patching file arch/arm/mach-bcmring/dma.c
patching file arch/arm/mach-bcmring/include/mach/vmalloc.h
patching file arch/arm/mach-clps711x/Makefile
patching file arch/arm/mach-clps711x/common.c
patching file arch/arm/mach-clps711x/include/mach/system.h
patching file arch/arm/mach-clps711x/include/mach/vmalloc.h
patching file arch/arm/mach-clps711x/irq.c
patching file arch/arm/mach-clps711x/mm.c
patching file arch/arm/mach-clps711x/time.c
patching file arch/arm/mach-cns3xxx/cns3420vb.c
patching file arch/arm/mach-cns3xxx/include/mach/entry-macro.S
patching file arch/arm/mach-cns3xxx/include/mach/vmalloc.h
patching file arch/arm/mach-davinci/Makefile
patching file arch/arm/mach-davinci/board-da850-evm.c
patching file arch/arm/mach-davinci/cpuidle.c
patching file arch/arm/mach-davinci/da850.c
patching file arch/arm/mach-davinci/devices-da8xx.c
patching file arch/arm/mach-davinci/dm355.c
patching file arch/arm/mach-davinci/dm365.c
patching file arch/arm/mach-davinci/dm644x.c
patching file arch/arm/mach-davinci/dm646x.c
patching file arch/arm/mach-davinci/include/mach/asp.h
patching file arch/arm/mach-davinci/include/mach/common.h
patching file arch/arm/mach-davinci/include/mach/da8xx.h
patching file arch/arm/mach-davinci/include/mach/dm355.h
patching file arch/arm/mach-davinci/include/mach/dm365.h
patching file arch/arm/mach-davinci/include/mach/dm644x.h
patching file arch/arm/mach-davinci/include/mach/dm646x.h
patching file arch/arm/mach-davinci/include/mach/io.h
patching file arch/arm/mach-davinci/include/mach/sram.h
patching file arch/arm/mach-davinci/include/mach/vmalloc.h
patching file arch/arm/mach-davinci/io.c
patching file arch/arm/mach-davinci/pm.c
patching file arch/arm/mach-davinci/sram.c
patching file arch/arm/mach-dove/include/mach/dove.h
patching file arch/arm/mach-dove/include/mach/vmalloc.h
patching file arch/arm/mach-ebsa110/core.c
patching file arch/arm/mach-ebsa110/include/mach/system.h
patching file arch/arm/mach-ebsa110/include/mach/vmalloc.h
patching file arch/arm/mach-ep93xx/adssphere.c
patching file arch/arm/mach-ep93xx/edb93xx.c
patching file arch/arm/mach-ep93xx/gesbc9312.c
patching file arch/arm/mach-ep93xx/include/mach/entry-macro.S
patching file arch/arm/mach-ep93xx/include/mach/system.h
patching file arch/arm/mach-ep93xx/include/mach/vmalloc.h
patching file arch/arm/mach-ep93xx/micro9.c
patching file arch/arm/mach-ep93xx/simone.c
patching file arch/arm/mach-ep93xx/snappercl15.c
patching file arch/arm/mach-ep93xx/ts72xx.c
patching file arch/arm/mach-exynos/cpu.c
patching file arch/arm/mach-exynos/include/mach/entry-macro.S
patching file arch/arm/mach-exynos/include/mach/vmalloc.h
patching file arch/arm/mach-exynos/mach-armlex4210.c
patching file arch/arm/mach-exynos/mach-nuri.c
patching file arch/arm/mach-exynos/mach-origen.c
patching file arch/arm/mach-exynos/mach-smdk4x12.c
patching file arch/arm/mach-exynos/mach-smdkv310.c
patching file arch/arm/mach-exynos/mach-universal_c210.c
patching file arch/arm/mach-exynos/platsmp.c
patching file arch/arm/mach-footbridge/cats-hw.c
patching file arch/arm/mach-footbridge/include/mach/system.h
patching file arch/arm/mach-footbridge/include/mach/vmalloc.h
patching file arch/arm/mach-gemini/include/mach/vmalloc.h
patching file arch/arm/mach-h720x/include/mach/vmalloc.h
patching file arch/arm/mach-highbank/highbank.c
patching file arch/arm/mach-highbank/include/mach/entry-macro.S
patching file arch/arm/mach-highbank/include/mach/vmalloc.h
patching file arch/arm/mach-integrator/include/mach/vmalloc.h
patching file arch/arm/mach-iop13xx/include/mach/vmalloc.h
patching file arch/arm/mach-iop32x/include/mach/io.h
patching file arch/arm/mach-iop32x/include/mach/system.h
patching file arch/arm/mach-iop32x/include/mach/vmalloc.h
patching file arch/arm/mach-iop33x/include/mach/io.h
patching file arch/arm/mach-iop33x/include/mach/system.h
patching file arch/arm/mach-iop33x/include/mach/vmalloc.h
patching file arch/arm/mach-ixp2000/include/mach/system.h
patching file arch/arm/mach-ixp2000/include/mach/vmalloc.h
patching file arch/arm/mach-ixp23xx/include/mach/io.h
patching file arch/arm/mach-ixp23xx/include/mach/vmalloc.h
patching file arch/arm/mach-ixp4xx/include/mach/system.h
patching file arch/arm/mach-ixp4xx/include/mach/vmalloc.h
patching file arch/arm/mach-kirkwood/include/mach/io.h
patching file arch/arm/mach-kirkwood/include/mach/vmalloc.h
patching file arch/arm/mach-ks8695/include/mach/system.h
patching file arch/arm/mach-ks8695/include/mach/vmalloc.h
patching file arch/arm/mach-lpc32xx/include/mach/system.h
patching file arch/arm/mach-lpc32xx/include/mach/vmalloc.h
patching file arch/arm/mach-mmp/include/mach/system.h
patching file arch/arm/mach-mmp/include/mach/vmalloc.h
patching file arch/arm/mach-msm/board-msm8960.c
patching file arch/arm/mach-msm/board-msm8x60.c
patching file arch/arm/mach-msm/include/mach/entry-macro-qgic.S
patching file arch/arm/mach-msm/include/mach/entry-macro-vic.S
patching file arch/arm/mach-msm/include/mach/entry-macro.S
patching file arch/arm/mach-msm/include/mach/vmalloc.h
patching file arch/arm/mach-mv78xx0/include/mach/vmalloc.h
patching file arch/arm/mach-mxs/include/mach/vmalloc.h
patching file arch/arm/mach-mxs/system.c
patching file arch/arm/mach-netx/include/mach/entry-macro.S
patching file arch/arm/mach-netx/include/mach/vmalloc.h
patching file arch/arm/mach-netx/nxdb500.c
patching file arch/arm/mach-netx/nxdkn.c
patching file arch/arm/mach-netx/nxeb500hmi.c
patching file arch/arm/mach-nomadik/board-nhk8815.c
patching file arch/arm/mach-nomadik/include/mach/entry-macro.S
patching file arch/arm/mach-nomadik/include/mach/vmalloc.h
patching file arch/arm/mach-omap1/Kconfig
patching file arch/arm/mach-omap1/board-ams-delta.c
patching file arch/arm/mach-omap1/board-fsample.c
patching file arch/arm/mach-omap1/board-generic.c
patching file arch/arm/mach-omap1/board-h2.c
patching file arch/arm/mach-omap1/board-h3.c
patching file arch/arm/mach-omap1/board-htcherald.c
patching file arch/arm/mach-omap1/board-innovator.c
patching file arch/arm/mach-omap1/board-nokia770.c
patching file arch/arm/mach-omap1/board-osk.c
patching file arch/arm/mach-omap1/board-palmte.c
patching file arch/arm/mach-omap1/board-palmtt.c
patching file arch/arm/mach-omap1/board-palmz71.c
patching file arch/arm/mach-omap1/board-perseus2.c
patching file arch/arm/mach-omap1/board-sx1.c
patching file arch/arm/mach-omap1/board-voiceblue.c
patching file arch/arm/mach-omap1/clock.c
patching file arch/arm/mach-omap1/clock.h
patching file arch/arm/mach-omap1/clock_data.c
patching file arch/arm/mach-omap1/common.h
patching file arch/arm/mach-omap1/devices.c
patching file arch/arm/mach-omap1/include/mach/vmalloc.h
patching file arch/arm/mach-omap1/io.c
patching file arch/arm/mach-omap1/opp.h
patching file arch/arm/mach-omap1/opp_data.c
patching file arch/arm/mach-omap1/pm.c
patching file arch/arm/mach-omap1/time.c
patching file arch/arm/mach-omap1/timer32k.c
patching file arch/arm/mach-omap2/Kconfig
patching file arch/arm/mach-omap2/Makefile
patching file arch/arm/mach-omap2/board-2430sdp.c
patching file arch/arm/mach-omap2/board-3430sdp.c
patching file arch/arm/mach-omap2/board-3630sdp.c
patching file arch/arm/mach-omap2/board-4430sdp.c
patching file arch/arm/mach-omap2/board-am335xevm.c
patching file arch/arm/mach-omap2/board-am3517crane.c
patching file arch/arm/mach-omap2/board-am3517evm.c
patching file arch/arm/mach-omap2/board-apollon.c
patching file arch/arm/mach-omap2/board-cm-t35.c
patching file arch/arm/mach-omap2/board-cm-t3517.c
patching file arch/arm/mach-omap2/board-devkit8000.c
patching file arch/arm/mach-omap2/board-flash.c
patching file arch/arm/mach-omap2/board-flash.h
patching file arch/arm/mach-omap2/board-generic.c
patching file arch/arm/mach-omap2/board-h4.c
patching file arch/arm/mach-omap2/board-igep0020.c
patching file arch/arm/mach-omap2/board-ldp.c
patching file arch/arm/mach-omap2/board-n8x0.c
patching file arch/arm/mach-omap2/board-omap3beagle.c
patching file arch/arm/mach-omap2/board-omap3encore.c
patching file arch/arm/mach-omap2/board-omap3evm.c
patching file arch/arm/mach-omap2/board-omap3logic.c
patching file arch/arm/mach-omap2/board-omap3pandora.c
patching file arch/arm/mach-omap2/board-omap3stalker.c
patching file arch/arm/mach-omap2/board-omap3touchbook.c
patching file arch/arm/mach-omap2/board-omap4panda.c
patching file arch/arm/mach-omap2/board-omap4pcm049.c
patching file arch/arm/mach-omap2/board-overo.c
patching file arch/arm/mach-omap2/board-rm680.c
patching file arch/arm/mach-omap2/board-rx51-peripherals.c
patching file arch/arm/mach-omap2/board-rx51.c
patching file arch/arm/mach-omap2/board-ti8168evm.c
patching file arch/arm/mach-omap2/board-zoom-display.c
patching file arch/arm/mach-omap2/board-zoom-peripherals.c
patching file arch/arm/mach-omap2/board-zoom.c
patching file arch/arm/mach-omap2/clkt_dpll.c
patching file arch/arm/mach-omap2/clock.c
patching file arch/arm/mach-omap2/clock.h
patching file arch/arm/mach-omap2/clock33xx.h
patching file arch/arm/mach-omap2/clock33xx_data.c
patching file arch/arm/mach-omap2/clock3xxx_data.c
patching file arch/arm/mach-omap2/clock44xx_data.c
patching file arch/arm/mach-omap2/clockdomain.h
patching file arch/arm/mach-omap2/clockdomain2xxx_3xxx.c
patching file arch/arm/mach-omap2/clockdomain44xx.c
patching file arch/arm/mach-omap2/clockdomains33xx_data.c
patching file arch/arm/mach-omap2/cm-regbits-33xx.h
patching file arch/arm/mach-omap2/cm2xxx_3xxx.c
patching file arch/arm/mach-omap2/cm2xxx_3xxx.h
patching file arch/arm/mach-omap2/cm33xx.h
patching file arch/arm/mach-omap2/cm44xx.c
patching file arch/arm/mach-omap2/cminst33xx.h
patching file arch/arm/mach-omap2/cminst44xx.c
patching file arch/arm/mach-omap2/cminst44xx.h
patching file arch/arm/mach-omap2/common-board-devices.c
patching file arch/arm/mach-omap2/common-board-devices.h
patching file arch/arm/mach-omap2/common.c
patching file arch/arm/mach-omap2/common.h
patching file arch/arm/mach-omap2/control.c
patching file arch/arm/mach-omap2/control.h
patching file arch/arm/mach-omap2/cpuidle33xx.c
patching file arch/arm/mach-omap2/cpuidle33xx.h
patching file arch/arm/mach-omap2/cpuidle34xx.c
patching file arch/arm/mach-omap2/cpuidle44xx.c
patching file arch/arm/mach-omap2/devices.c
patching file arch/arm/mach-omap2/devices.h
patching file arch/arm/mach-omap2/display.c
patching file arch/arm/mach-omap2/dpll3xxx.c
patching file arch/arm/mach-omap2/gpmc-nand.c
patching file arch/arm/mach-omap2/gpmc.c
patching file arch/arm/mach-omap2/hsmmc.c
patching file arch/arm/mach-omap2/hsmmc.h
patching file arch/arm/mach-omap2/i2c.c
patching file arch/arm/mach-omap2/id.c
patching file arch/arm/mach-omap2/include/mach/barriers.h
patching file arch/arm/mach-omap2/include/mach/board-am335xevm.h
patching file arch/arm/mach-omap2/include/mach/debug-macro.S
patching file arch/arm/mach-omap2/include/mach/edma.h
patching file arch/arm/mach-omap2/include/mach/entry-macro.S
patching file arch/arm/mach-omap2/include/mach/omap-secure.h
patching file arch/arm/mach-omap2/include/mach/omap-wakeupgen.h
patching file arch/arm/mach-omap2/include/mach/omap4-common.h
patching file arch/arm/mach-omap2/include/mach/sram.h
patching file arch/arm/mach-omap2/include/mach/vmalloc.h
patching file arch/arm/mach-omap2/io.c
patching file arch/arm/mach-omap2/irq.c
patching file arch/arm/mach-omap2/mailbox.c
patching file arch/arm/mach-omap2/mux.c
patching file arch/arm/mach-omap2/mux.h
patching file arch/arm/mach-omap2/mux33xx.c
patching file arch/arm/mach-omap2/mux33xx.h
patching file arch/arm/mach-omap2/omap-headsmp.S
patching file arch/arm/mach-omap2/omap-hotplug.c
patching file arch/arm/mach-omap2/omap-mpuss-lowpower.c
patching file arch/arm/mach-omap2/omap-secure.c
patching file arch/arm/mach-omap2/omap-smc.S
patching file arch/arm/mach-omap2/omap-smp.c
patching file arch/arm/mach-omap2/omap-wakeupgen.c
patching file arch/arm/mach-omap2/omap4-common.c
patching file arch/arm/mach-omap2/omap4-sar-layout.h
patching file arch/arm/mach-omap2/omap44xx-smc.S
patching file arch/arm/mach-omap2/omap_hwmod.c
patching file arch/arm/mach-omap2/omap_hwmod_33xx_data.c
patching file arch/arm/mach-omap2/omap_hwmod_3xxx_data.c
patching file arch/arm/mach-omap2/omap_hwmod_44xx_data.c
patching file arch/arm/mach-omap2/omap_hwmod_common_data.c
patching file arch/arm/mach-omap2/omap_phy_internal.c
patching file arch/arm/mach-omap2/omap_twl.c
patching file arch/arm/mach-omap2/opp2xxx.h
patching file arch/arm/mach-omap2/opp3xxx_data.c
patching file arch/arm/mach-omap2/pm.c
patching file arch/arm/mach-omap2/pm.h
patching file arch/arm/mach-omap2/pm24xx.c
patching file arch/arm/mach-omap2/pm33xx.c
patching file arch/arm/mach-omap2/pm33xx.h
patching file arch/arm/mach-omap2/pm34xx.c
patching file arch/arm/mach-omap2/pm44xx.c
patching file arch/arm/mach-omap2/powerdomain.h
patching file arch/arm/mach-omap2/powerdomain44xx.c
patching file arch/arm/mach-omap2/powerdomains33xx_data.c
patching file arch/arm/mach-omap2/powerdomains44xx_data.c
patching file arch/arm/mach-omap2/prcm-common.h
patching file arch/arm/mach-omap2/prcm.c
patching file arch/arm/mach-omap2/prcm44xx.h
patching file arch/arm/mach-omap2/prcm_mpu44xx.c
patching file arch/arm/mach-omap2/prm-regbits-33xx.h
patching file arch/arm/mach-omap2/prm2xxx_3xxx.c
patching file arch/arm/mach-omap2/prm2xxx_3xxx.h
patching file arch/arm/mach-omap2/prm33xx.h
patching file arch/arm/mach-omap2/prm44xx.c
patching file arch/arm/mach-omap2/prm44xx.h
patching file arch/arm/mach-omap2/prm_common.c
patching file arch/arm/mach-omap2/prminst33xx.h
patching file arch/arm/mach-omap2/prminst44xx.c
patching file arch/arm/mach-omap2/prminst44xx.h
patching file arch/arm/mach-omap2/sdram-nokia.c
patching file arch/arm/mach-omap2/sdrc.c
patching file arch/arm/mach-omap2/sdrc2xxx.c
patching file arch/arm/mach-omap2/serial.c
patching file arch/arm/mach-omap2/sleep33xx.S
patching file arch/arm/mach-omap2/sleep44xx.S
patching file arch/arm/mach-omap2/smartreflex.c
patching file arch/arm/mach-omap2/timer.c
patching file arch/arm/mach-omap2/usb-host.c
patching file arch/arm/mach-omap2/usb-musb.c
patching file arch/arm/mach-omap2/vc.c
patching file arch/arm/mach-omap2/vc3xxx_data.c
patching file arch/arm/mach-omap2/vc44xx_data.c
patching file arch/arm/mach-omap2/voltage.c
patching file arch/arm/mach-omap2/voltage.h
patching file arch/arm/mach-omap2/voltagedomains33xx_data.c
patching file arch/arm/mach-omap2/voltagedomains3xxx_data.c
patching file arch/arm/mach-omap2/voltagedomains44xx_data.c
patching file arch/arm/mach-omap2/vp.c
patching file arch/arm/mach-omap2/vp3xxx_data.c
patching file arch/arm/mach-omap2/vp44xx_data.c
patching file arch/arm/mach-orion5x/include/mach/io.h
patching file arch/arm/mach-orion5x/include/mach/vmalloc.h
patching file arch/arm/mach-picoxcell/common.c
patching file arch/arm/mach-picoxcell/include/mach/entry-macro.S
patching file arch/arm/mach-picoxcell/include/mach/vmalloc.h
patching file arch/arm/mach-pnx4008/include/mach/system.h
patching file arch/arm/mach-pnx4008/include/mach/vmalloc.h
patching file arch/arm/mach-prima2/include/mach/map.h
patching file arch/arm/mach-prima2/include/mach/vmalloc.h
patching file arch/arm/mach-pxa/include/mach/entry-macro.S
patching file arch/arm/mach-pxa/include/mach/vmalloc.h
patching file arch/arm/mach-pxa/mioa701.c
patching file arch/arm/mach-pxa/poodle.c
patching file arch/arm/mach-pxa/reset.c
patching file arch/arm/mach-pxa/spitz.c
patching file arch/arm/mach-pxa/tosa.c
patching file arch/arm/mach-realview/include/mach/entry-macro.S
patching file arch/arm/mach-realview/include/mach/vmalloc.h
patching file arch/arm/mach-realview/realview_eb.c
patching file arch/arm/mach-realview/realview_pb1176.c
patching file arch/arm/mach-realview/realview_pb11mp.c
patching file arch/arm/mach-realview/realview_pba8.c
patching file arch/arm/mach-realview/realview_pbx.c
patching file arch/arm/mach-rpc/include/mach/system.h
patching file arch/arm/mach-rpc/include/mach/vmalloc.h
patching file arch/arm/mach-s3c2410/include/mach/system-reset.h
patching file arch/arm/mach-s3c2410/include/mach/vmalloc.h
patching file arch/arm/mach-s3c64xx/include/mach/entry-macro.S
patching file arch/arm/mach-s3c64xx/include/mach/system.h
patching file arch/arm/mach-s3c64xx/include/mach/vmalloc.h
patching file arch/arm/mach-s3c64xx/mach-anw6410.c
patching file arch/arm/mach-s3c64xx/mach-crag6410.c
patching file arch/arm/mach-s3c64xx/mach-hmt.c
patching file arch/arm/mach-s3c64xx/mach-mini6410.c
patching file arch/arm/mach-s3c64xx/mach-ncp.c
patching file arch/arm/mach-s3c64xx/mach-real6410.c
patching file arch/arm/mach-s3c64xx/mach-smartq5.c
patching file arch/arm/mach-s3c64xx/mach-smartq7.c
patching file arch/arm/mach-s3c64xx/mach-smdk6400.c
patching file arch/arm/mach-s3c64xx/mach-smdk6410.c
patching file arch/arm/mach-s5p64x0/include/mach/entry-macro.S
patching file arch/arm/mach-s5p64x0/include/mach/vmalloc.h
patching file arch/arm/mach-s5p64x0/mach-smdk6440.c
patching file arch/arm/mach-s5p64x0/mach-smdk6450.c
patching file arch/arm/mach-s5pc100/include/mach/entry-macro.S
patching file arch/arm/mach-s5pc100/include/mach/vmalloc.h
patching file arch/arm/mach-s5pc100/mach-smdkc100.c
patching file arch/arm/mach-s5pv210/include/mach/entry-macro.S
patching file arch/arm/mach-s5pv210/include/mach/vmalloc.h
patching file arch/arm/mach-s5pv210/mach-aquila.c
patching file arch/arm/mach-s5pv210/mach-goni.c
patching file arch/arm/mach-s5pv210/mach-smdkc110.c
patching file arch/arm/mach-s5pv210/mach-smdkv210.c
patching file arch/arm/mach-s5pv210/mach-torbreck.c
patching file arch/arm/mach-sa1100/include/mach/system.h
patching file arch/arm/mach-sa1100/include/mach/vmalloc.h
patching file arch/arm/mach-shark/core.c
patching file arch/arm/mach-shark/include/mach/vmalloc.h
patching file arch/arm/mach-shmobile/Makefile
patching file arch/arm/mach-shmobile/board-ag5evm.c
patching file arch/arm/mach-shmobile/entry-gic.S
patching file arch/arm/mach-shmobile/include/mach/common.h
patching file arch/arm/mach-shmobile/include/mach/entry-macro.S
patching file arch/arm/mach-shmobile/include/mach/system.h
patching file arch/arm/mach-shmobile/include/mach/vmalloc.h
patching file arch/arm/mach-spear3xx/include/mach/entry-macro.S
patching file arch/arm/mach-spear3xx/include/mach/vmalloc.h
patching file arch/arm/mach-spear3xx/spear300_evb.c
patching file arch/arm/mach-spear3xx/spear310_evb.c
patching file arch/arm/mach-spear3xx/spear320_evb.c
patching file arch/arm/mach-spear6xx/include/mach/entry-macro.S
patching file arch/arm/mach-spear6xx/include/mach/vmalloc.h
patching file arch/arm/mach-spear6xx/spear600_evb.c
patching file arch/arm/mach-tegra/board-dt.c
patching file arch/arm/mach-tegra/board-harmony.c
patching file arch/arm/mach-tegra/board-paz00.c
patching file arch/arm/mach-tegra/board-seaboard.c
patching file arch/arm/mach-tegra/board-trimslice.c
patching file arch/arm/mach-tegra/include/mach/entry-macro.S
patching file arch/arm/mach-tegra/include/mach/io.h
patching file arch/arm/mach-tegra/include/mach/vmalloc.h
patching file arch/arm/mach-tegra/io.c
patching file arch/arm/mach-u300/include/mach/entry-macro.S
patching file arch/arm/mach-u300/include/mach/system.h
patching file arch/arm/mach-u300/include/mach/vmalloc.h
patching file arch/arm/mach-u300/u300.c
patching file arch/arm/mach-ux500/board-mop500.c
patching file arch/arm/mach-ux500/board-u5500.c
patching file arch/arm/mach-ux500/include/mach/entry-macro.S
patching file arch/arm/mach-ux500/include/mach/vmalloc.h
patching file arch/arm/mach-versatile/core.c
patching file arch/arm/mach-versatile/include/mach/entry-macro.S
patching file arch/arm/mach-versatile/include/mach/vmalloc.h
patching file arch/arm/mach-versatile/versatile_ab.c
patching file arch/arm/mach-versatile/versatile_dt.c
patching file arch/arm/mach-versatile/versatile_pb.c
patching file arch/arm/mach-vexpress/include/mach/entry-macro.S
patching file arch/arm/mach-vexpress/include/mach/vmalloc.h
patching file arch/arm/mach-vexpress/v2m.c
patching file arch/arm/mach-vt8500/include/mach/vmalloc.h
patching file arch/arm/mach-w90x900/include/mach/system.h
patching file arch/arm/mach-w90x900/include/mach/vmalloc.h
patching file arch/arm/mach-w90x900/irq.c
patching file arch/arm/mach-w90x900/nuc910.h
patching file arch/arm/mach-w90x900/nuc950.h
patching file arch/arm/mach-w90x900/nuc960.h
patching file arch/arm/mach-w90x900/nuc9xx.h
patching file arch/arm/mach-w90x900/time.c
patching file arch/arm/mach-zynq/common.c
patching file arch/arm/mach-zynq/include/mach/entry-macro.S
patching file arch/arm/mach-zynq/include/mach/vmalloc.h
patching file arch/arm/mm/dma-mapping.c
patching file arch/arm/mm/idmap.c
patching file arch/arm/mm/init.c
patching file arch/arm/mm/ioremap.c
patching file arch/arm/mm/mm.h
patching file arch/arm/mm/mmu.c
patching file arch/arm/mm/nommu.c
patching file arch/arm/plat-iop/Makefile
patching file arch/arm/plat-iop/io.c
patching file arch/arm/plat-mxc/Makefile
patching file arch/arm/plat-mxc/gic.c
patching file arch/arm/plat-mxc/include/mach/common.h
patching file arch/arm/plat-mxc/include/mach/entry-macro.S
patching file arch/arm/plat-mxc/include/mach/mx1.h
patching file arch/arm/plat-mxc/include/mach/vmalloc.h
patching file arch/arm/plat-mxc/system.c
patching file arch/arm/plat-omap/Kconfig
patching file arch/arm/plat-omap/Makefile
patching file arch/arm/plat-omap/common.c
patching file arch/arm/plat-omap/cpu-omap.c
patching file arch/arm/plat-omap/dma.c
patching file arch/arm/plat-omap/dmtimer.c
patching file arch/arm/plat-omap/i2c.c
patching file arch/arm/plat-omap/include/plat/am33xx.h
patching file arch/arm/plat-omap/include/plat/clkdev_omap.h
patching file arch/arm/plat-omap/include/plat/clock.h
patching file arch/arm/plat-omap/include/plat/common.h
patching file arch/arm/plat-omap/include/plat/config_pwm.h
patching file arch/arm/plat-omap/include/plat/cpu.h
patching file arch/arm/plat-omap/include/plat/dma-33xx.h
patching file arch/arm/plat-omap/include/plat/dma.h
patching file arch/arm/plat-omap/include/plat/dmtimer.h
patching file arch/arm/plat-omap/include/plat/elm.h
patching file arch/arm/plat-omap/include/plat/emif.h
patching file arch/arm/plat-omap/include/plat/gpio.h
patching file arch/arm/plat-omap/include/plat/gpmc.h
patching file arch/arm/plat-omap/include/plat/hardware.h
patching file arch/arm/plat-omap/include/plat/io.h
patching file arch/arm/plat-omap/include/plat/irqs-33xx.h
patching file arch/arm/plat-omap/include/plat/irqs.h
patching file arch/arm/plat-omap/include/plat/lcdc.h
patching file arch/arm/plat-omap/include/plat/mailbox.h
patching file arch/arm/plat-omap/include/plat/mcspi.h
patching file arch/arm/plat-omap/include/plat/mmc.h
patching file arch/arm/plat-omap/include/plat/nand.h
patching file arch/arm/plat-omap/include/plat/omap-secure.h
patching file arch/arm/plat-omap/include/plat/omap-serial.h
patching file arch/arm/plat-omap/include/plat/omap34xx.h
patching file arch/arm/plat-omap/include/plat/omap44xx.h
patching file arch/arm/plat-omap/include/plat/omap_device.h
patching file arch/arm/plat-omap/include/plat/omap_hwmod.h
patching file arch/arm/plat-omap/include/plat/serial.h
patching file arch/arm/plat-omap/include/plat/sram.h
patching file arch/arm/plat-omap/include/plat/ti816x.h
patching file arch/arm/plat-omap/include/plat/ti81xx.h
patching file arch/arm/plat-omap/include/plat/uncompress.h
patching file arch/arm/plat-omap/include/plat/usb.h
patching file arch/arm/plat-omap/io.c
patching file arch/arm/plat-omap/mailbox.c
patching file arch/arm/plat-omap/omap_device.c
patching file arch/arm/plat-omap/sdma2edma.c
patching file arch/arm/plat-omap/sram.c
patching file arch/arm/plat-s5p/Kconfig
patching file arch/arm/plat-spear/include/plat/system.h
patching file arch/arm/plat-spear/include/plat/vmalloc.h
patching file arch/arm/plat-tcc/include/mach/vmalloc.h
patching file arch/arm/tools/mach-types
patching file drivers/Kconfig
patching file drivers/Makefile
patching file drivers/cbus/Kconfig
patching file drivers/cbus/Makefile
patching file drivers/cbus/cbus.c
patching file drivers/cbus/cbus.h
patching file drivers/cbus/retu-headset.c
patching file drivers/cbus/retu-pwrbutton.c
patching file drivers/cbus/retu-rtc.c
patching file drivers/cbus/retu-wdt.c
patching file drivers/cbus/retu.c
patching file drivers/cbus/retu.h
patching file drivers/cbus/tahvo-usb.c
patching file drivers/cbus/tahvo.c
patching file drivers/cbus/tahvo.h
patching file drivers/cpufreq/Makefile
patching file drivers/cpufreq/cpufreq.c
patching file drivers/cpufreq/cpufreq_userspace.c
patching file drivers/cpufreq/omap-cpufreq.c
patching file drivers/gpio/gpio-omap.c
patching file drivers/i2c/busses/i2c-omap.c
patching file drivers/input/touchscreen/Kconfig
patching file drivers/input/touchscreen/Makefile
patching file drivers/input/touchscreen/ti_tsc.c
patching file drivers/media/rc/ene_ir.c
patching file drivers/media/rc/ene_ir.h
patching file drivers/mfd/Kconfig
patching file drivers/mfd/Makefile
patching file drivers/mfd/omap-usb-host.c
patching file drivers/mfd/ti_tscadc.c
patching file drivers/mfd/tps65217.c
patching file drivers/mfd/tps65910.c
patching file drivers/misc/lis3lv02d/lis3lv02d.c
patching file drivers/misc/lis3lv02d/lis3lv02d.h
patching file drivers/misc/lis3lv02d/lis3lv02d_i2c.c
patching file drivers/mmc/card/block.c
patching file drivers/mmc/card/queue.c
patching file drivers/mmc/core/bus.c
patching file drivers/mmc/core/core.c
patching file drivers/mmc/core/core.h
patching file drivers/mmc/core/mmc.c
patching file drivers/mmc/core/sd.c
patching file drivers/mmc/core/sdio.c
patching file drivers/mmc/host/omap_hsmmc.c
patching file drivers/mtd/devices/Makefile
patching file drivers/mtd/devices/omap2_elm.c
patching file drivers/mtd/nand/nand_base.c
patching file drivers/mtd/nand/omap2.c
patching file drivers/net/can/Kconfig
patching file drivers/net/can/Makefile
patching file drivers/net/can/d_can/Kconfig
patching file drivers/net/can/d_can/Makefile
patching file drivers/net/can/d_can/d_can.c
patching file drivers/net/can/d_can/d_can.h
patching file drivers/net/can/d_can/d_can_platform.c
patching file drivers/net/ethernet/chelsio/cxgb4vf/sge.c
patching file drivers/net/ethernet/ti/Kconfig
patching file drivers/net/ethernet/ti/Makefile
patching file drivers/net/ethernet/ti/cpsw.c
patching file drivers/net/ethernet/ti/cpsw_ale.c
patching file drivers/net/ethernet/ti/cpsw_ale.h
patching file drivers/net/ethernet/ti/cpts.c
patching file drivers/net/ethernet/ti/cpts.h
patching file drivers/net/ethernet/ti/davinci_cpdma.c
patching file drivers/net/ethernet/ti/davinci_cpdma.h
patching file drivers/net/ethernet/ti/davinci_emac.c
patching file drivers/net/ethernet/ti/davinci_mdio.c
patching file drivers/net/phy/icplus.c
patching file drivers/net/wireless/wl12xx/Kconfig
patching file drivers/pwm/Kconfig
patching file drivers/pwm/Makefile
patching file drivers/pwm/ecap.c
patching file drivers/pwm/ehrpwm.c
patching file drivers/pwm/pwm.c
patching file drivers/regulator/Kconfig
patching file drivers/regulator/Makefile
patching file drivers/regulator/core.c
patching file drivers/regulator/tps65217-regulator.c
patching file drivers/regulator/tps65910-regulator.c
patching file drivers/rtc/Kconfig
patching file drivers/rtc/rtc-omap.c
patching file drivers/scsi/gdth.h
patching file drivers/scsi/scsi.c
patching file drivers/scsi/scsi_lib.c
patching file drivers/scsi/scsi_pm.c
patching file drivers/scsi/scsi_priv.h
patching file drivers/scsi/sd.c
patching file drivers/spi/spi-omap2-mcspi.c
patching file drivers/staging/iio/adc/Kconfig
patching file drivers/staging/iio/adc/Makefile
patching file drivers/staging/iio/adc/ti_adc.c
patching file drivers/tty/serial/omap-serial.c
patching file drivers/uio/Kconfig
patching file drivers/uio/uio_pruss.c
patching file drivers/usb/core/hub.c
patching file drivers/usb/dwc3/gadget.c
patching file drivers/usb/gadget/amd5536udc.c
patching file drivers/usb/gadget/at91_udc.c
patching file drivers/usb/gadget/atmel_usba_udc.c
patching file drivers/usb/gadget/ci13xxx_udc.c
patching file drivers/usb/gadget/composite.c
patching file drivers/usb/gadget/dbgp.c
patching file drivers/usb/gadget/dummy_hcd.c
patching file drivers/usb/gadget/epautoconf.c
patching file drivers/usb/gadget/ether.c
patching file drivers/usb/gadget/f_ecm.c
patching file drivers/usb/gadget/f_rndis.c
patching file drivers/usb/gadget/f_subset.c
patching file drivers/usb/gadget/file_storage.c
patching file drivers/usb/gadget/fsl_qe_udc.c
patching file drivers/usb/gadget/fsl_udc_core.c
patching file drivers/usb/gadget/fusb300_udc.c
patching file drivers/usb/gadget/goku_udc.c
patching file drivers/usb/gadget/imx_udc.c
patching file drivers/usb/gadget/inode.c
patching file drivers/usb/gadget/langwell_udc.c
patching file drivers/usb/gadget/m66592-udc.c
patching file drivers/usb/gadget/multi.c
patching file drivers/usb/gadget/mv_udc_core.c
patching file drivers/usb/gadget/net2272.c
patching file drivers/usb/gadget/net2280.c
patching file drivers/usb/gadget/omap_udc.c
patching file drivers/usb/gadget/pch_udc.c
patching file drivers/usb/gadget/printer.c
patching file drivers/usb/gadget/pxa25x_udc.c
patching file drivers/usb/gadget/pxa27x_udc.c
patching file drivers/usb/gadget/r8a66597-udc.c
patching file drivers/usb/gadget/rndis.c
patching file drivers/usb/gadget/rndis.h
patching file drivers/usb/gadget/s3c-hsotg.c
patching file drivers/usb/gadget/s3c-hsudc.c
patching file drivers/usb/gadget/s3c2410_udc.c
patching file drivers/usb/gadget/udc-core.c
patching file drivers/usb/host/ehci-omap.c
patching file drivers/usb/host/ohci-omap3.c
patching file drivers/usb/misc/Kconfig
patching file drivers/usb/misc/Makefile
patching file drivers/usb/misc/otg-eh-test.c
patching file drivers/usb/musb/Kconfig
patching file drivers/usb/musb/Makefile
patching file drivers/usb/musb/am35x.c
patching file drivers/usb/musb/blackfin.c
patching file drivers/usb/musb/cppi41.c
patching file drivers/usb/musb/cppi41.h
patching file drivers/usb/musb/cppi41_dma.c
patching file drivers/usb/musb/cppi41_dma.h
patching file drivers/usb/musb/cppi_dma.c
patching file drivers/usb/musb/da8xx.c
patching file drivers/usb/musb/davinci.c
patching file drivers/usb/musb/musb_core.c
patching file drivers/usb/musb/musb_core.h
patching file drivers/usb/musb/musb_debug.h
patching file drivers/usb/musb/musb_debugfs.c
patching file drivers/usb/musb/musb_dma.h
patching file drivers/usb/musb/musb_gadget.c
patching file drivers/usb/musb/musb_gadget_ep0.c
patching file drivers/usb/musb/musb_host.c
patching file drivers/usb/musb/musb_io.h
patching file drivers/usb/musb/musb_procfs.c
patching file drivers/usb/musb/musb_regs.h
patching file drivers/usb/musb/musb_virthub.c
patching file drivers/usb/musb/musbhsdma.c
patching file drivers/usb/musb/omap2430.c
patching file drivers/usb/musb/ti81xx.c
patching file drivers/usb/musb/ti81xx.h
patching file drivers/usb/musb/tusb6010.c
patching file drivers/usb/musb/tusb6010.h
patching file drivers/usb/musb/tusb6010_omap.c
patching file drivers/usb/musb/ux500.c
patching file drivers/usb/musb/ux500_dma.c
patching file drivers/usb/otg/nop-usb-xceiv.c
patching file drivers/usb/otg/otg.c
patching file drivers/usb/renesas_usbhs/mod_gadget.c
patching file drivers/video/Kconfig
patching file drivers/video/backlight/Kconfig
patching file drivers/video/backlight/Makefile
patching file drivers/video/backlight/pwm_bl.c
patching file drivers/video/backlight/tlc59108.c
patching file drivers/video/bf54x-lq043fb.c
patching file drivers/video/bfin-t350mcqb-fb.c
patching file drivers/video/da8xx-fb.c
patching file drivers/watchdog/omap_wdt.c
patching file fs/ext4/inode.c
patching file fs/jbd/checkpoint.c
patching file fs/jbd2/checkpoint.c
patching file fs/ubifs/sb.c
patching file fs/xfs/xfs_buf.c
patching file include/linux/Kbuild
patching file include/linux/can/platform/d_can.h
patching file include/linux/cpsw.h
patching file include/linux/i2c-omap.h
patching file include/linux/input/ti_tsc.h
patching file include/linux/lis3lv02d.h
patching file include/linux/mfd/ti_tscadc.h
patching file include/linux/mfd/tps65217.h
patching file include/linux/mfd/tps65910.h
patching file include/linux/mmc/card.h
patching file include/linux/mmc/core.h
patching file include/linux/mmc/host.h
patching file include/linux/net_switch_config.h
patching file include/linux/platform_data/cbus.h
patching file include/linux/platform_data/ti_adc.h
patching file include/linux/pwm/ehrpwm.h
patching file include/linux/pwm/pwm.h
patching file include/linux/pwm_backlight.h
patching file include/linux/rcupdate.h
patching file include/linux/rtc/rtc-omap.h
patching file include/linux/sched.h
patching file include/linux/sockios.h
patching file include/linux/usb.h
patching file include/linux/usb/gadget.h
patching file include/linux/usb/musb.h
patching file include/linux/usb/otg.h
patching file include/linux/vmalloc.h
patching file include/linux/wl12xx.h
patching file include/video/da8xx-fb.h
patching file kernel/exit.c
patching file kernel/irq/autoprobe.c
patching file kernel/irq/chip.c
patching file kernel/irq/handle.c
patching file kernel/irq/internals.h
patching file kernel/irq/manage.c
patching file lib/decompress_bunzip2.c
patching file lib/decompress_unlzma.c
patching file mm/vmalloc.c
patching file net/core/dev.c
patching file net/ipv4/ipconfig.c
patching file sound/soc/codecs/tlv320aic3x.c
patching file sound/soc/codecs/tlv320aic3x.h
patching file sound/soc/davinci/Kconfig
patching file sound/soc/davinci/Makefile
patching file sound/soc/davinci/davinci-evm.c
patching file sound/soc/davinci/davinci-i2s.c
patching file sound/soc/davinci/davinci-mcasp.c
patching file sound/soc/davinci/davinci-mcasp.h
patching file sound/soc/davinci/davinci-pcm.c
patching file sound/soc/davinci/davinci-pcm.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0001-USB-pl2303-fix-DTR-RTS-being-raised-on-baud-rate-cha.patch
patching file drivers/usb/serial/pl2303.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0002-USB-pl2303-fix-abuse-of-interface-data.patch
patching file drivers/usb/serial/pl2303.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0003-USB-pl2303-return-errors-from-usb_submit_urb-in-open.patch
patching file drivers/usb/serial/pl2303.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0004-USB-pl2302-clean-up-error-handling-in-open.patch
patching file drivers/usb/serial/pl2303.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0005-USB-pl2303-remove-unused-define.patch
patching file drivers/usb/serial/pl2303.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0006-USB-pl2303-use-usb_serial_generic_open.patch
patching file drivers/usb/serial/pl2303.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0007-phy-micrel-change-phy_id_mask-for-KSZ9021-and-KS8001.patch
patching file drivers/net/phy/micrel.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0008-net-ipv4-ipconfig-decrease-CONF_CARRIER_TIMEOUT.patch
patching file net/ipv4/ipconfig.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0009-Adding-board-support-for-PHYTEC-s-support-for-pcm051.patch
patching file arch/arm/configs/pcm051_defconfig
patching file arch/arm/mach-omap2/Kconfig
patching file arch/arm/mach-omap2/Makefile
patching file arch/arm/mach-omap2/board-pcm051.c
patching file arch/arm/mach-omap2/clock33xx_data.c
patching file arch/arm/mach-omap2/clockdomains33xx_data.c
patching file arch/arm/mach-omap2/gpmc-nand.c
patching file arch/arm/mach-omap2/gpmc.c
patching file arch/arm/mach-omap2/include/mach/board-pcm051.h
patching file arch/arm/mach-omap2/mux33xx.c
patching file arch/arm/mach-omap2/omap_hwmod_33xx_data.c
patching file arch/arm/mach-omap2/pm33xx.c
patching file arch/arm/plat-omap/include/plat/gpmc.h
patching file arch/arm/plat-omap/include/plat/uncompress.h
patching file arch/arm/tools/mach-types
patching file drivers/video/Kconfig

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0010-Added-LCD-support-for-pcm051.patch
patching file arch/arm/mach-omap2/board-pcm051.c
patching file drivers/video/da8xx-fb.c
patching file include/video/da8xx-fb.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0011-Initial-PCM051-ethernet-support.patch
patching file arch/arm/mach-omap2/board-pcm051.c
patching file arch/arm/mach-omap2/control.h
patching file arch/arm/mach-omap2/devices.c
patching file arch/arm/plat-omap/include/plat/am33xx.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0012-pcm051-Modifications-to-setup-the-KSZ9021RN-gigabit-.patch
patching file arch/arm/mach-omap2/board-pcm051.c
patching file arch/arm/mach-omap2/devices.c
patching file drivers/net/ethernet/ti/cpsw.c
patching file drivers/net/phy/micrel.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0013-rtc-m41t80-Fix-alarm-functionality.patch
patching file drivers/rtc/rtc-m41t80.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0014-rtc-m41t80-Add-support-for-rv-4162-c7.patch
patching file drivers/rtc/Kconfig
patching file drivers/rtc/rtc-m41t80.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0015-pcm051-Add-RTC-support.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0016-pcm051-wlan-wl1271-on-off-modifications-and-pcm051-b.patch
patching file arch/arm/mach-omap2/board-pcm051.c
patching file drivers/net/wireless/wl12xx/main.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0017-pcm051-bluetooth-Isolate-eth-PHYs-to-avoid-fighting-.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0018-pcm051-use-can1-instead-of-can0.patch
patching file arch/arm/mach-omap2/board-pcm051.c
patching file arch/arm/mach-omap2/mux33xx.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0019-pcm051-make-lcdc-platform-data-static.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0020-da8xx-provide-a-way-to-register-multiple-panels.patch
patching file arch/arm/mach-davinci/devices-da8xx.c
patching file arch/arm/mach-omap2/board-am335xevm.c
patching file arch/arm/mach-omap2/board-pcm051.c
patching file arch/arm/mach-omap2/devices.c
patching file arch/arm/plat-omap/include/plat/lcdc.h
patching file drivers/video/da8xx-fb.c
patching file include/video/da8xx-fb.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0021-da8xx-provide-module-paramter-to-select-panel.patch
patching file drivers/video/da8xx-fb.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0022-da8xx-adjust-height-of-PV_PD104SLF.patch
patching file drivers/video/da8xx-fb.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0023-da8xx-fb-Switch-default-display-order.patch
patching file drivers/video/da8xx-fb.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0024-da8xx-Fix-compiler-warnings.patch
patching file drivers/video/da8xx-fb.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0025-omap2-mux-don-t-try-to-convert-prcm-event-to-irq-on-.patch
patching file arch/arm/mach-omap2/mux.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0026-pcm051-fix-backlight-initialization.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0027-OMAP-NAND-Check-first-two-pages-for-bad-block-marker.patch
patching file drivers/mtd/nand/nand_base.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0028-OMAP-NAND-timing-violations.patch
patching file drivers/mtd/nand/nand_base.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0029-RTC-Add-support-for-the-RTC-in-the-TPS65910-PMIC.patch
patching file arch/arm/mach-omap2/board-pcm051.c
patching file drivers/mfd/tps65910-irq.c
patching file drivers/mfd/tps65910.c
patching file drivers/rtc/Kconfig
patching file drivers/rtc/Makefile
patching file drivers/rtc/rtc-tps65910.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0030-pwm-backlight-Set-correct-frequency.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0031-tps65910-rtc-Use-external-oszillator.patch
patching file drivers/mfd/tps65910.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0032-pcm051-Add-pin-mux-for-user-BNTs.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0033-OMAP2-Fix-Kconfig-warning.patch
patching file arch/arm/mach-omap2/Kconfig

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0034-PCAAXS1-Initial-board-support.patch
patching file arch/arm/configs/pcaaxs1_defconfig
patching file arch/arm/mach-omap2/Kconfig
patching file arch/arm/mach-omap2/Makefile
patching file arch/arm/mach-omap2/board-pcaaxs1.c
patching file arch/arm/tools/mach-types

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0035-PCAAXS1-I2C-BUS-0-and-BUS-1-support.patch
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0036-PCAAXS1-PMIC-tps65910-and-PMIC-RTC-on-I2C-1-BUS-supp.patch
patching file arch/arm/configs/pcaaxs1_defconfig
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0037-PCAAXS1-NAND-flash-support.patch
patching file arch/arm/configs/pcaaxs1_defconfig
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0038-PCAAXS1-LCD-Display-support.patch
patching file arch/arm/mach-omap2/board-pcaaxs1.c
patching file drivers/video/Kconfig

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0039-PCAAXS1-STMPE-Touchscreen-support.patch
patching file arch/arm/configs/pcaaxs1_defconfig
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0040-PCAAXS1-USB-support.patch
patching file arch/arm/configs/pcaaxs1_defconfig
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0041-PCAAXS1-Ethernet-and-i2c-eeprom-support.patch
patching file arch/arm/configs/pcaaxs1_defconfig
patching file arch/arm/mach-omap2/board-pcaaxs1.c
patching file arch/arm/mach-omap2/control.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0042-PCAAXS1-LCD-Brightness-Control.patch
patching file arch/arm/configs/pcaaxs1_defconfig
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0043-OMAP-AM335x-Support-two-Phytec-AM335x-Board-in-one-k.patch
patching file arch/arm/mach-omap2/Makefile
patching file arch/arm/mach-omap2/am33xx_generic.c
patching file arch/arm/mach-omap2/am33xx_generic.h
patching file arch/arm/mach-omap2/board-pcaaxs1.c
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0044-PCAAXS1-Remove-unused-struct-from-board-code.patch
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0045-eeprom-address-and-platformdata-correction.patch
patching file arch/arm/mach-omap2/board-pcm051.c
patching file arch/arm/mach-omap2/include/mach/board-pcm051.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0046-McASP-Prepare-pcm051-sound-support.patch
patching file sound/soc/davinci/davinci-mcasp.c
patching file sound/soc/davinci/davinci-mcasp.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0047-wm8974-Enable-Mic-Bias-when-nessesary.patch
patching file sound/soc/codecs/wm8974.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0048-ARM-pcm051-Add-sound-support.patch
patching file arch/arm/configs/pcm051_defconfig
patching file arch/arm/mach-omap2/board-pcm051.c
patching file arch/arm/mach-omap2/devices.c
patching file sound/soc/davinci/Kconfig
patching file sound/soc/davinci/Makefile
patching file sound/soc/davinci/davinci-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0049-pcm051-uart2-and-uart3-mux-fixed.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0050-pcm051-removing-unused-pin-mux-function-mii1_init.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0051-ARM-OMAP2-Fix-compile-error-when-disabling-suspend-s.patch
patching file arch/arm/mach-omap2/mux33xx.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0052-PFLA03-Initial-board-support.patch
patching file arch/arm/configs/pfla03_defconfig
patching file arch/arm/mach-omap2/Kconfig
patching file arch/arm/mach-omap2/Makefile
patching file arch/arm/mach-omap2/board-pfla03.c
patching file arch/arm/tools/mach-types

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0053-PFLA03-NAND-support.patch
patching file arch/arm/configs/pfla03_defconfig
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0054-PFLA03-i2c0-support.patch
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0055-PFLA03-PMIC-TPS65910A3-support.patch
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0056-PFLA03-lcd-support.patch
patching file arch/arm/configs/pfla03_defconfig
patching file arch/arm/mach-omap2/board-pfla03.c
patching file drivers/video/Kconfig

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0057-PFLA03-eeprom-24c32-support.patch
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0058-PLFA03-user-led-pca9533-support.patch
patching file arch/arm/configs/pfla03_defconfig
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0059-PFLA03-adc-max1037-support.patch
patching file arch/arm/configs/pfla03_defconfig
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0060-PFLA03-rtc8564-support.patch
patching file arch/arm/configs/pfla03_defconfig
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0061-PFLA03-Fix-probing-of-tps65910-rtc.patch
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0062-PFLA03-Set-display-enable-as-output.patch
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0063-ARM-Micrel-PHY-added-support-for-KSZ9031.patch
patching file drivers/net/phy/micrel.c
patching file include/linux/micrel_phy.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0064-PFLA03-ethernet-support-for-RMII2-and-RGMII1.patch
patching file arch/arm/mach-omap2/board-pfla03.c
patching file arch/arm/mach-omap2/control.h
patching file arch/arm/mach-omap2/devices.c
patching file arch/arm/plat-omap/include/plat/am33xx.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0065-PFLA03-USB-support.patch
patching file arch/arm/configs/pfla03_defconfig
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0066-PFLA03-lcd-pwm-backlight-control-support.patch
patching file arch/arm/configs/pfla03_defconfig
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0067-PFLA03-spi-nor-flash-support.patch
patching file arch/arm/configs/pfla03_defconfig
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0068-PFLA03-uart1-mux-support.patch
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0069-PFLA03-remove-clockout.patch
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0070-PCAAXS1-Fix-USB-OTG-as-host-mode.patch
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0071-PCAAXS1-RTC8564-Support.patch
patching file arch/arm/configs/pcaaxs1_defconfig
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0072-Input-add-driver-for-FT5x06-based-EDT-displays.patch
patching file Documentation/input/edt-ft5x06.txt
patching file drivers/input/touchscreen/Kconfig
patching file drivers/input/touchscreen/Makefile
patching file drivers/input/touchscreen/edt-ft5x06.c
patching file include/linux/input/edt-ft5x06.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0073-Input-edt-ft5x06-fix-build-error-when-compiling-wtho.patch
patching file drivers/input/touchscreen/edt-ft5x06.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0074-EDT-FT5x06-kernel-backport-adaptations.patch
patching file drivers/input/touchscreen/edt-ft5x06.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0075-Fixed-index-of-display-array.patch
patching file drivers/video/da8xx-fb.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0076-AM335x-da8xx-fb-Add-ETD-ETM0700G0DH6-display-support.patch
patching file drivers/video/da8xx-fb.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0077-PCAAXS1-Add-support-for-LCD-018-ETM0700G0DH6.patch
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0078-edt-ft5x06-Switch-back-to-old-style-init-and-exit-fu.patch
patching file drivers/input/touchscreen/edt-ft5x06.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0079-PCAAXS1-Add-support-for-LCD-018-ETM0700G0DH6-touch.patch
patching file arch/arm/mach-omap2/board-pcaaxs1.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0080-PCAAXS1-Enable-Disable-LVDS-transceiver.patch
patching file arch/arm/mach-omap2/board-pcaaxs1.c
patching file arch/arm/mach-omap2/omap_hwmod_33xx_data.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0081-modpost-Permit-.GCC.command.line-sections.patch
patching file scripts/mod/modpost.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0082-PCM051-Add-support-for-LCD-018-ETM0700G0DH6-touch-lc.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0083-PLFA03-Add-enable-function-for-ecap2.patch
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0084-PCM051-Small-cleanup-of-the-backlight-code.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0085-TPS65910-Use-external-oscillator-if-RTC-is-used.patch
patching file drivers/mfd/tps65910.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0086-Added-AM335x-internal-RTC-initialization-function.patch
patching file arch/arm/mach-omap2/am33xx_generic.c
patching file arch/arm/mach-omap2/am33xx_generic.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0087-PCM051-am335x-internal-rtc-support.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0088-rtc-m41t80-Use-alarm-functionality-only-when-irq-ava.patch
patching file drivers/rtc/rtc-m41t80.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0089-PCM051-Remove-hardcoded-array-index-of-rtc-irq.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0090-PCM051-Remove-muxing-of-tsc-pins.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0091-net-phy-micrel-Disable-asymmetric-pause-for-KSZ9021.patch
patching file drivers/net/phy/micrel.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0092-mtd-support-ONFI-multi-lun-NAND.patch
patching file drivers/mtd/nand/nand_base.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0093-phyBOARD-WEGA-AM335x-Basic-support.patch
patching file arch/arm/mach-omap2/Makefile
patching file arch/arm/mach-omap2/am33xx_devices.c
patching file arch/arm/mach-omap2/am33xx_devices.h
patching file arch/arm/mach-omap2/am33xx_generic.c
patching file arch/arm/mach-omap2/am33xx_generic.h
patching file arch/arm/mach-omap2/board-pcaaxs1.c
patching file arch/arm/mach-omap2/board-pcm051.c
patching file arch/arm/mach-omap2/board-pfla03.c
patching file arch/arm/mach-omap2/common.c
patching file arch/arm/mach-omap2/common.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0094-phyBOARD-WEGA-AM335x-Add-ethernet-support.patch
patching file arch/arm/mach-omap2/am33xx_devices.c
patching file arch/arm/mach-omap2/am33xx_devices.h
patching file arch/arm/mach-omap2/board-pcm051.c
patching file arch/arm/mach-omap2/control.h
patching file arch/arm/mach-omap2/devices.c
patching file arch/arm/plat-omap/include/plat/am33xx.h

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0095-phyBOARD-WEGA-AM335x-Add-USB-support.patch
patching file arch/arm/mach-omap2/am33xx_devices.c
patching file arch/arm/mach-omap2/am33xx_devices.h
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0096-phyBOARD-WEGA-AM335x-Add-CAN-support.patch
patching file arch/arm/mach-omap2/am33xx_devices.h
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0097-phyBOARD-WEGA-Add-support-for-PEB-EVAL-01.patch
patching file arch/arm/mach-omap2/board-pcm051.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0098-Revert-video-da8xx-fb-add-fb_set_par-support.patch
patching file drivers/video/da8xx-fb.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0099-driver-video-Added-support-for-tda998x.patch
patching file drivers/video/Kconfig
patching file drivers/video/Makefile
patching file drivers/video/da8xx-fb.c
patching file drivers/video/tda998x_drv.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0100-phyBOARD-WEGA-AM335x-Add-support-for-PEB-AV-01.patch
patching file arch/arm/mach-omap2/am33xx_generic.c
patching file arch/arm/mach-omap2/am33xx_generic.h
patching file arch/arm/mach-omap2/board-pcaaxs1.c
patching file arch/arm/mach-omap2/board-pcm051.c
Hunk #2 succeeded at 103 (offset -1 lines).
Hunk #3 succeeded at 219 (offset -5 lines).
Hunk #4 succeeded at 301 (offset -5 lines).
Hunk #5 succeeded at 333 (offset -5 lines).
patching file arch/arm/mach-omap2/board-pfla03.c

Applying patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0101-phyBOARD-AM335x-WEGA-Remove-PMIC-IRQ.patch
patching file arch/arm/mach-omap2/am33xx_devices.c
patching file arch/arm/mach-omap2/board-pcm051.c

Now at patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/.ptxdist/patches/0101-phyBOARD-AM335x-WEGA-Remove-PMIC-IRQ.patch
patchin: quilt: done

finished target kernel.extract
Checking out files:  48% (18365/37672)   
Checking out files:  49% (18460/37672)   
Checking out files:  50% (18836/37672)   
Checking out files:  51% (19213/37672)   
Checking out files:  52% (19590/37672)   
Checking out files:  53% (19967/37672)   
Checking out files:  54% (20343/37672)   
Checking out files:  55% (20720/37672)   
Checking out files:  56% (21097/37672)   
Checking out files:  57% (21474/37672)   
Checking out files:  58% (21850/37672)   
Checking out files:  59% (22227/37672)   
Checking out files:  59% (22381/37672)   
Checking out files:  60% (22604/37672)   
Checking out files:  61% (22980/37672)   
Checking out files:  62% (23357/37672)   
Checking out files:  63% (23734/37672)   
Checking out files:  64% (24111/37672)   
Checking out files:  65% (24487/37672)   
Checking out files:  65% (24512/37672)   
Checking out files:  66% (24864/37672)   
Checking out files:  67% (25241/37672)   
Checking out files:  68% (25617/37672)   
Checking out files:  69% (25994/37672)   
Checking out files:  70% (26371/37672)   
Checking out files:  71% (26748/37672)   
Checking out files:  72% (27124/37672)   
Checking out files:  73% (27501/37672)   
Checking out files:  74% (27878/37672)   
Checking out files:  75% (28254/37672)   
Checking out files:  76% (28631/37672)   
Checking out files:  77% (29008/37672)   
Checking out files:  78% (29385/37672)   
Checking out files:  79% (29761/37672)   
Checking out files:  79% (30119/37672)   
Checking out files:  80% (30138/37672)   
Checking out files:  81% (30515/37672)   
Checking out files:  81% (30814/37672)   
Checking out files:  82% (30892/37672)   
Checking out files:  83% (31268/37672)   
Checking out files:  84% (31645/37672)   
Checking out files:  85% (32022/37672)   
Checking out files:  86% (32398/37672)   
Checking out files:  87% (32775/37672)   
Checking out files:  88% (33152/37672)   
Checking out files:  89% (33529/37672)   
Checking out files:  90% (33905/37672)   
Checking out files:  91% (34282/37672)   
Checking out files:  92% (34659/37672)   
Checking out files:  93% (35035/37672)   
Checking out files:  93% (35274/37672)   
Checking out files:  94% (35412/37672)   
Checking out files:  95% (35789/37672)   
Checking out files:  96% (36166/37672)   
Checking out files:  97% (36542/37672)   
Checking out files:  98% (36919/37672)   
Checking out files:  99% (37296/37672)   
Checking out files: 100% (37672/37672)   
Checking out files: 100% (37672/37672), done.
HEAD is now at 58f1fb5 phyBOARD-AM335x-WEGA: Remove PMIC IRQ
fatal: A branch named 'master' already exists.
make: *** [/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/create_new_git_ptxdist_linux_work] Error 128
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Create environment for Linux development</p>
<pre class="code">
make rm_setup_env_git_linux_work setup_env_git_linux_work --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
if [ -e /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/setup_env_git_linux_work ]; then rm /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/setup_env_git_linux_work; fi

# Environment setup file /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/setup-env-git-linux for linux has been created
# Look at the contents of the file
cat /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/setup-env-git-linux

# Open a NEW terminal window and use the setup-env script to define the environment for linux. 
# The macros GIT_WORK_TREE and GIT_DIR will be defined. You can just call 'git' and the right repository will be used. 
# usage:

source /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/setup-env-git-linux

# usage of git

git status
git add
git commit -s

make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Apply Patches</p>
<pre class="code">
make apply_patches_git_linux_work --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# Apply existing patches, with series file
export MY_PATCH=/tmp/patches
nano ${MY_PATCH}/series
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ quiltimport --patches ${MY_PATCH} -n
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ branch -av
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ log
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ quiltimport --patches ${MY_PATCH} 

# Apply patches from other git-repositories
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ remote add test-git-01 /tmp/test.git
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ fetch test-git-01 master 
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ cherry-pick 56816e7e19cb6a64bf996272d6ff1

# Apply existing patches, WITHOUT series files
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ am my_patch_files
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Force the recompilation or the kernel</p>
<pre class="code">
make -n kernel-compile --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
if [ -e platform-phyBOARD-WEGA-AM335x/state/kernel.compile ] ; then \
	/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 drop kernel.compile ; \
fi &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 -ji1 compile kernel
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state; touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/kernel-compile
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Create patches in ptxdist patches folder for linux_work</p>
<pre class="code">
make -n create_ptx_patches_git_linux_work --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
# Create patch
mkdir -p $(dirname /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/tmp/patch.XXXXX)  &amp;&amp; \
export MY_PATCH=$(mktemp -d /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/tmp/patch.XXXXX)  &amp;&amp; \
mkdir -p ${MY_PATCH} &amp;&amp; \
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/git-platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/platform-phyBOARD-WEGA-AM335x/build-target/linux-3.2/ format-patch --subject-prefix="linux" -o ${MY_PATCH} --start-number 120 00000000..master &amp;&amp; \
 \
if [ ! -e /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series ] ; then \
	echo "When the patch dir doesn't exist, create an empty series file and check it in. Later you can checkout an empty series file" &amp;&amp;\
	mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2 &amp;&amp; \
	touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series &amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ add /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series &amp;&amp; \
	git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ commit -s -m "empty series file" &amp;&amp; \
	true ; \
fi &amp;&amp; \
if [[ "fb5de7ae1f61a84793bbc4d5fc5c66ec9eccd49b" != $(git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ rev-parse HEAD) ]] ; then \
	echo "rev is wrong, use for project in makefile GIT_REV_ID_bsp:=$(git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ rev-parse HEAD)"; \
	exit 1; \
fi &amp;&amp; \
echo "rev series is correct for project "; \
ls -1 ${MY_PATCH} >> /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series &amp;&amp; \
cp ${MY_PATCH}/*.patch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2 &amp;&amp; \
nano /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series &amp;&amp; \
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2 &amp;&amp; \
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ add series $(ls -1 ${MY_PATCH}) &amp;&amp; \
git --git-dir=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/.git --work-tree=/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/ commit -s &amp;&amp; \
cat /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0/configs/phyBOARD-WEGA-AM335x/patches/linux-3.2/series ; 
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state; touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/create_ptx_patches_git_linux_work
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>

<p>Force the complete rebuilt of the kernel</p>
<pre class="code">
make -n kernel-clean --makefile /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/pd_src.mk -C /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts/</pre>

<pre class="screen">
: Entering directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'
cd /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/phyBOARD-WEGA-AM335x-PD13.0.0 &amp;&amp; \
/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/PD/tools/bin/ptxdist-2013.01.0 clean kernel
mkdir -p /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state; touch /mnt/d02/test-develop/phyBOARD-WEGA-AM335x/project/phyBOARD-WEGA-20141113-1/state/kernel-clean
make: Leaving directory `/mnt/d02/test-develop/phyBOARD-WEGA-AM335x/distrib/test-20141113-1/install/scripts'</pre>
</h2>
</h1>

<p><span class=="strong"><strong>Contents</strong></span></p>
<p>1. Install Tutorial Software Manually<br />
2. Install Tools and BSP<br />
3. Build BSP<br />
4. Prepare Barebox Environment on TFTP Server<br />
5. Boot from SD-Card<br />
6. Update MLO and barebox in NAND<br />
7. Update Barebox Environment in NAND<br />
8. Boot from NAND, load kernel and rootfs from SD-CARD<br />
9. Update Kernel and Rootfs in NAND<br />
10. Boot from NAND, use kernel and rootfs in NAND<br />
11. Prepare loading kernel via TFTP, mounting rootfs via NFS<br />
12. Boot from NAND, load kernel via TFTP, mount rootfs via NFS<br />
13. Develop BSP Software<br />
14. Develop Kernel Software<br />
</body>
</html>
